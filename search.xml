<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>åšä¸ªå°æ ‘æ´01</title>
      <link href="2020/09/29/blog_project_01/"/>
      <url>2020/09/29/blog_project_01/</url>
      
        <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;é—²æ¥æ— äº‹ï¼Œå†™ä¸ªå°ä¸œè¥¿ï¼Œæœ‰ç©ºå°±æŠŠå®ƒä¸°æ»¡èµ·æ¥ã€‚ä½ å¯è®¤ä¸ºå®ƒæ˜¯ä¸ªå°æ ‘æ´ã€è½»åšå®¢ï¼Œæˆ–è€…å…¶ä»–ä»€ä¹ˆæ— å…³ç´§è¦çš„ä¸œè¥¿ã€‚éœ€æ±‚ä¸é‡è¦ï¼Œæ¯•ç«Ÿäº§å“ç»ç†æ˜¯ä¸Šå•æ‰€æ—¶çš„VVï¼ˆæ²¡æœ‰é”™ï¼Œå°±æ˜¯æˆ‘ï¼Œä½†æ˜¯ä»¥ä¸‹æˆ‘å°†é¿å…ä½¿ç”¨â€œæˆ‘â€è¿™ä¸ªäººç§°ä»£è¯ï¼Œä»¥æé«˜æ–‡ç« çš„è£…é€¼æ°´å¹³ï¼‰ï¼Œéœ€æ±‚æ–‡æ¡£çš„æ›´æ–°é¢‘ç‡å’Œå¦‚å•å‘¨æœŸåŒæ­¥ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;æ€»ä¹‹ï¼Œè¯»è€…ä¸å¿…çº ç»“äºåŠŸèƒ½ï¼Œé‡ç‚¹æ˜¯é€šè¿‡æ„å»ºé¡¹ç›®çš„è¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ–¹æ³•å’Œé‡åˆ°çš„é—®é¢˜ã€‚å› æ­¤è¿™ä¸ªç³»åˆ—ä¼šå¾ˆé•¿ï¼Œå†…å®¹ä¹Ÿå¾ˆåˆ†æ•£ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;ç¬”è€…å°½é‡ä¿è¯ä¸»çº¿ï¼Œç»´æŒè¯»è€…çš„è§‚æ„Ÿï¼Œäº¦æœŸå¾…å¯¹è¯»è€…æœ‰æ‰€è£¨ç›Šã€‚</p></blockquote><h2 id="version-0-0-1-å°±æ˜¯è¿™ä¹ˆå¿«"><a href="#version-0-0-1-å°±æ˜¯è¿™ä¹ˆå¿«" class="headerlink" title="version: 0.0.1 å°±æ˜¯è¿™ä¹ˆå¿«"></a>version: 0.0.1 å°±æ˜¯è¿™ä¹ˆå¿«</h2><p>åšå®¢éœ€è¦çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ€é‡è¦çš„å½“ç„¶æ˜¯è¯»æ–‡ç« å•¦ï¼Œæ‰€ä»¥é…±é…±é…±é…±<del>~</del>ç¬¬ä¸€ä¸ªç‰ˆæœ¬è¯ç”Ÿäº†è€¶æ¯”ğŸµ<br><img src="https://i.loli.net/2020/09/28/lRrVec4JEOj5ApI.jpg" alt="img"><br><img src="https://i.loli.net/2020/09/28/DJCWEMf6ap7XFUw.jpg" alt="img"></p><p>å¤šä¹ˆç®€çº¦å¤§æ–¹çš„ç•Œé¢ï¼Œå¤šä¹ˆæ¸…æ™°æ˜äº†çš„é¡¹ç›®ç»“æ„ï¼ŒåŸæ¥ç¨‹åºè®¾è®¡çš„å°½å¤´ï¼Œæ˜¯è¿”ç’å½’çœŸä¸“æ³¨åŸºç¡€â€¦â€¦</p><p>åˆ«éª‚äº†åˆ«éª‚äº†æˆ‘æ‰“ä½ï¼Œå¼€å§‹æ­£é¢˜å“ˆ~</p><h3 id="GetMappingå’ŒRequsetMapping"><a href="#GetMappingå’ŒRequsetMapping" class="headerlink" title="@GetMappingå’ŒRequsetMapping"></a>@GetMappingå’ŒRequsetMapping</h3><p>GetMapping,PostMapping,PutMapping,balalalMappingå’ŒRequestMappingåˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>æŸ¥çœ‹æºç ï¼Œå‘ç°å…¶å®å¾ˆç®€å•ï¼ŒGetMappingé‡ŒæŒ‡å®šäº†è¯·æ±‚æ–¹å¼ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„RequestMappingï¼Œå› æ­¤å¯ä»¥æ¯”åè€…å°‘ä¼ å…¥ä¸€ä¸ªè¯·æ±‚æ–¹å¼å‚æ•°ã€‚</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span>ElementType<span class="token punctuation">.</span>METHOD<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token annotation punctuation">@Documented</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>    method <span class="token operator">=</span> <span class="token punctuation">{</span>RequestMethod<span class="token punctuation">.</span>GET<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">GetMapping</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span></code></pre><h3 id="getå’Œpostçš„åŒºåˆ«"><a href="#getå’Œpostçš„åŒºåˆ«" class="headerlink" title="getå’Œpostçš„åŒºåˆ«"></a>getå’Œpostçš„åŒºåˆ«</h3><p>è¿™ä¿©å…„å¼Ÿçš„åŒºåˆ«ä¸€å‘è¢«åˆ—ä¸ºè¡¨æ ¼ï¼Œæ´»è·ƒäºå„ç§å…¥é—¨æ•™ç¨‹ä¸­ï¼Œä½†æ˜¯äºŒè€…çš„ç‰¹å®šåªæœ‰åœ¨ç”¨è¿‡ä¹‹åæ‰èƒ½åˆ‡èº«æ„Ÿè§‰åˆ°ï¼Œç‰¹åˆ«æ˜¯è¢«è¦æ±‚getæ”¹postä¹‹åã€‚</p><p>é¦–å…ˆgetæ˜¯å¯è§çš„ï¼Œåœ¨urlä¸­å¯ä»¥çœ‹åˆ°è¯·æ±‚çš„å‚æ•°ï¼Œè¿™ä¸ªç‰¹æ€§å†³å®šäº†å®ƒæ˜¯ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥æ•æ„Ÿæ•°æ®è¯·æ±‚ä¸å¯ä»¥ä½¿ç”¨getã€‚<br>åŒæ—¶geté™åˆ¶äº†ä¼ è¾“æ•°æ®é‡çš„å¤§å°ï¼ˆ2048ä¸ªå­—ç¬¦ï¼‰ï¼Œå¦‚æœä½ çš„å…¥å‚æœ‰base64ä¹‹ç±»çš„é•¿å­—ç¬¦ä¸²ï¼Œå¿…é¡»ä½¿ç”¨postè¯·æ±‚ã€‚<br>getçš„æœ‰ç‚¹åœ¨äºæ•ˆç‡æ¯”posté«˜ï¼Œæ˜¯formè¡¨å•é»˜è®¤çš„æäº¤æ–¹å¼ã€‚</p><p>ç„¶è€Œvvè¿˜æ˜¯å†³å®šæœ¬é¡¹ç›®ä¸­è°¨æ…ä½¿ç”¨get.</p><h3 id="spring-boot-starter-parent"><a href="#spring-boot-starter-parent" class="headerlink" title="spring-boot-starter-parent"></a>spring-boot-starter-parent</h3><p>ä¸ºä»€ä¹ˆspringbootçš„é¡¹ç›®é‡Œéƒ½éœ€è¦æœ‰è¿™ä¸ªä¾èµ–ï¼Œå®ƒåˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿ<br>å®ƒçš„ä¸»è¦ä½œç”¨å…¶å®å¾ˆç®€å•ï¼š</p><ul><li>æŒ‡å®šç¼–ç æ ¼å¼é»˜è®¤ä½¿ç”¨utf-8ã€‚</li><li>æŒ‡å®šjavaç‰ˆæœ¬é»˜è®¤ä½¿ç”¨1.8ã€‚</li><li>æä¾›Dependency Managementè¿›è¡Œé¡¹ç›®ä¾èµ–çš„ç‰ˆæœ¬ç®¡ç†ï¼Œå¦‚æŒ‡å®šå®é™…ä¾èµ–çš„ç‰ˆæœ¬å·ï¼ˆå·²ç»åšç‰ˆæœ¬å…¼å®¹æ€§æµ‹è¯•ï¼‰ã€‚</li><li>é»˜è®¤çš„èµ„æºè¿‡æ»¤å’Œæ’ä»¶ç®¡ç†ã€‚</li></ul><p>å…¶å®å°±æ˜¯å®ƒç”¨æ¥æä¾›ç›¸å…³çš„Mavené»˜è®¤ä¾èµ–ï¼Œä½¿ç”¨å®ƒä¹‹åï¼Œå¸¸ç”¨çš„åŒ…ä¾èµ–å¯ä»¥çœå»versionæ ‡ç­¾ã€‚ç†è§£ä¸ºé»˜è®¤é…ç½®å³å¯ï¼Œä¸éœ€è¦å¤ªè¿‡å…³æ³¨ã€‚</p><h2 id="versionï¼š0-1-0-æ¥å…¥æ•°æ®åº“"><a href="#versionï¼š0-1-0-æ¥å…¥æ•°æ®åº“" class="headerlink" title="versionï¼š0.1.0 æ¥å…¥æ•°æ®åº“"></a>versionï¼š0.1.0 æ¥å…¥æ•°æ®åº“</h2><blockquote><p>å…³äºæ•°æ®åº“çš„é€‰æ‹©ï¼ŒVVçº ç»“äº†ä¸€ä¼šå„¿ï¼ŒVVæƒ³ç”¨mongo,å› ä¸ºè¿™æ˜¯ä¸ªæ‹å¤§è…¿é¡¹ç›®ï¼Œæ•°æ®ç»“æ„å¯èƒ½ä¼šåå¤ä¿®æ”¹ï¼Œç”¨mysqlå°±æ˜¯è‡ªå¯»æ­»è·¯ã€‚<br>ä½†æ˜¯mysqlåˆæ›´åŠ é€‚åˆå„ç§å¤æ‚è”è¡¨æŸ¥è¯¢ï¼Œæ•ˆç‡ä¹Ÿæ›´é«˜ä¸€ç‚¹â€¦â€¦</p></blockquote><h3 id="åŸºæœ¬æ­¥éª¤"><a href="#åŸºæœ¬æ­¥éª¤" class="headerlink" title="åŸºæœ¬æ­¥éª¤"></a>åŸºæœ¬æ­¥éª¤</h3><h4 id="1-å»ºè¡¨"><a href="#1-å»ºè¡¨" class="headerlink" title="1.å»ºè¡¨"></a>1.å»ºè¡¨</h4><p>æƒ³æ¥è¿˜æ˜¯ç”¨mysqlå§ï¼Œå»ºè¡¨~</p><ul><li>æ‹…å¿ƒè¡¨ç»“æ„å˜åŒ–ï¼Œæ‰€ä»¥åŠ äº†ä¸‰ä¸ªæ‹“å±•å­—æ®µï¼Œåç»­ä¹Ÿå¯ä»¥å­˜ä¸€äº›jsonæ ¼å¼çš„å†…å®¹ã€‚</li><li>å†—ä½™ä½œè€…å§“åå­—æ®µï¼Œå‡å°‘æ•°æ®åº“æ“ä½œ</li><li>ä»¥ä¸»é”®å’ŒçŠ¶æ€å»ºç«‹ç´¢å¼•</li><li>ä»¥ä½œè€…IDå’ŒçŠ¶æ€å»ºç«‹ç´¢å¼•</li></ul><pre><code>CREATE TABLE `b_article` (  `id` int(11) NOT NULL,  `title` varchar(255) DEFAULT NULL,  `picture` varchar(2048) DEFAULT NULL COMMENT 'å°é¢å›¾ç‰‡',  `summary` varchar(255) DEFAULT NULL,  `text` longtext COMMENT 'æ–‡ç« å†…å®¹',  `text_type` varchar(255) DEFAULT NULL COMMENT 'æ–‡ç« è¾“å…¥ç±»å‹ï¼ˆmarkdownæˆ–è€…å¯Œæ–‡æœ¬ï¼‰',  `author_id` int(11) DEFAULT NULL,  `author_name` varchar(255) DEFAULT NULL COMMENT 'å†—ä½™ä½œè€…åç§°ï¼Œå‡å°‘æŸ¥è¯¢æ“ä½œ',  `tags` varchar(1024) DEFAULT NULL COMMENT 'æ–‡ç« æ ‡ç­¾',  `status` varchar(3) DEFAULT NULL COMMENT 'æ–‡ç« çŠ¶æ€ï¼ˆ0ï¼šè‰ç¨¿ï¼›1ï¼šéƒ¨åˆ†å‘å¸ƒï¼›2ï¼šå‘å¸ƒï¼›3ï¼šå›æ”¶ç«™ï¼›4ï¼šåˆ é™¤ï¼‰',  `type` varchar(255) DEFAULT NULL COMMENT 'æ–‡ç« åˆ†ç±»',  `create_time` datetime DEFAULT NULL,  `update_time` datetime DEFAULT NULL,  `params1` varchar(255) DEFAULT NULL COMMENT 'æ‰©å±•å­—æ®µ',  `params2` varchar(255) DEFAULT NULL,  `params3` varchar(255) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `ID_STATUS` (`id`,`status`),  KEY `AUTHOR_ID_STATUS` (`author_id`,`status`)) ENGINE=InnoDB DEFAULT CHARSET=utf8</code></pre><h4 id="2-ç”Ÿæˆæ•°æ®åº“ç›¸å…³ç±»"><a href="#2-ç”Ÿæˆæ•°æ®åº“ç›¸å…³ç±»" class="headerlink" title="2.ç”Ÿæˆæ•°æ®åº“ç›¸å…³ç±»"></a>2.ç”Ÿæˆæ•°æ®åº“ç›¸å…³ç±»</h4><p>æ²¡å•¥å¥½è¯´çš„ï¼Œå°±å»ºè®®ä¸¤ç‚¹ï¼š</p><ul><li>ä½¿ç”¨mybatisæ’ä»¶ç”Ÿæˆlongtextç±»å‹æ—¶ä¼šhinå¥‡æ€ªï¼Œå»ºè®®å·æ‡’æ”¹æˆvarcharï¼Œç”Ÿæˆåå†æ”¹å›æ¥ã€‚</li><li>å–„ç”¨lombok.</li></ul><h4 id="3-å¿«é€Ÿæ•´åˆmybatis"><a href="#3-å¿«é€Ÿæ•´åˆmybatis" class="headerlink" title="3.å¿«é€Ÿæ•´åˆmybatis"></a>3.å¿«é€Ÿæ•´åˆmybatis</h4><p>æœ¬ç€æœ€å°å¯ç”¨åŸåˆ™ï¼Œç¬”è€…å…ˆä¸æé‚£äº›èŠ±é‡Œèƒ¡å“¨çš„é…ç½®ï¼Œå…ˆå¼•å…¥å°±å¥½ã€‚ä»¥ä¸‹å¿«é€Ÿè¿‡ä¸€ä¸‹~</p><ul><li>mavenå¼•ç”¨<pre><code>  &lt;dependency&gt;      &lt;groupId&gt;mysql&lt;/groupId&gt;      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;  &lt;/dependency&gt;  &lt;dependency&gt;      &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;      &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;      &lt;version&gt;1.3.2&lt;/version&gt;  &lt;/dependency&gt;</code></pre></li><li>å¯åŠ¨ç±»æ·»åŠ @MapperScan({â€œcom.vvf.practice.blog.dal.mapperâ€})</li><li>é…ç½®ç±»æ·»åŠ <br>spring.datasource.url=jdbc:mysql://127.0.0.1:3306/blog?useUnicode=true&amp;characterEncoding=UTF-8&amp;useSSL=false&amp;serverTimezone=UTC<br>spring.datasource.username=root<br>spring.datasource.password=root<br>spring.datasource.driver-class-name=com.mysql.jdbc.Driver</li><li>æ·»åŠ serviceï¼Œä¿®æ”¹controllerç­‰</li></ul><p>ç„¶åå°±å®Œæˆå•¦~ç”¨postmanè°ƒç”¨ä¸€ä¸‹ã€‚æˆåŠŸ(à¸‡ â€¢_â€¢)à¸‡<br><img src="https://i.loli.net/2020/09/29/ceOkPnTrYXKvAHf.jpg" alt="img"></p><h3 id="æ›´å¤šæ€è€ƒâ€”â€”mybatisæºç é˜…è¯»è®°å½•"><a href="#æ›´å¤šæ€è€ƒâ€”â€”mybatisæºç é˜…è¯»è®°å½•" class="headerlink" title="æ›´å¤šæ€è€ƒâ€”â€”mybatisæºç é˜…è¯»è®°å½•"></a>æ›´å¤šæ€è€ƒâ€”â€”mybatisæºç é˜…è¯»è®°å½•</h3><p>vvæ–—èƒ†æ¥åšä¸€æ¬¡mybatisæºç åˆ†æï¼Œæœ‰è¯¯çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ã€‚<br>é¦–å…ˆé˜…è¯»æºç ï¼Œéœ€è¦æ­å»ºä¸€ä¸ªç®€æ´çš„é˜…è¯»ç¯å¢ƒï¼Œvvåœ¨version 0.1.0çš„åŸºç¡€ä¸Šæ·»åŠ äº†mybatisé…ç½®xmlï¼Œå’Œä¸€ä¸ªç®€å•çš„æµ‹è¯•ç±»ã€‚<br>åç»­è¿™äº›å†…å®¹éƒ½ä¼šæäº¤githubä¸Šï¼Œæœ‰éœ€è¦çš„è¯»è€…å¯ä»¥æ ¹æ®æäº¤è®°å½•æŸ¥çœ‹é¡¹ç›®æ¼”è¿›è¿‡ç¨‹ï¼Œå¹¶ä¸”è‡ªå·±äº²æ‰‹debugè¯•ä¸€è¯•ã€‚<br>æˆ–è€…ä½ ä¹Ÿå¯ä»¥æ ¹æ®ä»¥ä¸‹ä»£ç ï¼Œæ­å»ºä½ è‡ªå·±çš„æµ‹è¯•ç¯å¢ƒã€‚</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//1ã€è¯»å–é…ç½®æ–‡ä»¶</span>        String resource <span class="token operator">=</span> <span class="token string">"mybatis-config.xml"</span><span class="token punctuation">;</span>        InputStream inputStream <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//2ã€åˆå§‹åŒ–mybatisï¼Œåˆ›å»ºSqlSessionFactoryç±»å®ä¾‹</span>        SqlSessionFactory sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//3ã€åˆ›å»ºSessionå®ä¾‹</span>        SqlSession session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        BArticle o <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span><span class="token string">"com.vvf.practice.blog.dal.mapper.BArticleMapper.selectByPrimaryKey"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        BArticleMapper mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span>BArticleMapper<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        BArticle bArticle <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bArticle<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token doctype">&lt;!DOCTYPE configuration        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-config.dtd"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jdbc:mysql://127.0.0.1:3306/blog?serverTimezone<span class="token punctuation">=</span>UTC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com/vvf/practice/blog/dal/mapper/BArticleMapper.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><p>OK~ç¯å¢ƒå‡†å¤‡å®Œæ¯•ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹å§ã€‚<br>é¦–å…ˆé˜…è¯»æºç è¦æœ‰ä¸€ä¸ªå¤§çº²ï¼Œåœ¨æŠŠæ¡æ•´ä½“æµç¨‹åå†å»çœ‹å…·ä½“å®ç°ã€‚ </p><p>è¯»è€…å¯ä»¥åœ¨è„‘æµ·ä¸­å®šä¹‰ä¸¤ä¸ªç»´åº¦ï¼Œæˆ‘ä»¬ä»è¿™ä¸¤ä¸ªç»´åº¦äº¤å‰å»ç†è§£æºç ã€‚ä¸€ä¸ªæ˜¯ä»åŠŸèƒ½è§’åº¦ï¼Œmybatisåˆ°åº•è¦åšä»€ä¹ˆï¼ˆå•å‘ORMï¼šä»å…³ç³»æ˜ å°„åˆ°å¯¹è±¡ï¼‰ï¼Œè¿™å…¶ä¸­æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿé…ç½®ç±»å¦‚ä½•ç”Ÿæ•ˆï¼Ÿæ¥å£å’Œxmlæ€ä¹ˆå¯¹åº”èµ·æ¥ï¼Œå¦‚ä½•æ‰§è¡Œè¯­å¥ï¼Ÿ</p><p>ç¬”è€…å¤§è‡´æŠŠmybatisåˆ†ä¸ºå‡ æ­¥ï¼š</p><ol><li>è¯»å–é…ç½®ç±»ï¼›</li><li>å…³è”mapperï¼›</li><li>æ‰§è¡Œæ“ä½œã€‚</li></ol><p>ç¬¬äºŒæ˜¯ä»ä»£ç è§’åº¦ï¼Œæœ‰å‡ ä¸ªæ ¸å¿ƒç±»éœ€è¦ç‰¹åˆ«å…³æ³¨ï¼š</p><ol><li>Configurationï¼š<br>MyBatisæ‰€æœ‰çš„é…ç½®ä¿¡æ¯éƒ½ç»´æŒåœ¨Configurationå¯¹è±¡ä¹‹ä¸­ã€‚</li><li>SqlSessionï¼š<br>ä½œä¸ºMyBatiså·¥ä½œçš„ä¸»è¦é¡¶å±‚APIï¼Œè¡¨ç¤ºå’Œæ•°æ®åº“äº¤äº’çš„ä¼šè¯ï¼Œå®Œæˆå¿…è¦æ•°æ®åº“å¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚</li><li>Executorï¼š<br>MyBatisæ‰§è¡Œå™¨ï¼Œæ˜¯MyBatis è°ƒåº¦çš„æ ¸å¿ƒï¼Œè´Ÿè´£SQLè¯­å¥çš„ç”Ÿæˆå’ŒæŸ¥è¯¢ç¼“å­˜çš„ç»´æŠ¤ã€‚</li></ol><p>ä»¥ä¸‹å°±è¿™å‡ ä¸ªæ­¥éª¤å±•å¼€æè¿°ã€‚</p><h4 id="è¯»å–mybatis-config-xmlåˆ°configuration"><a href="#è¯»å–mybatis-config-xmlåˆ°configuration" class="headerlink" title="è¯»å–mybatis-config.xmlåˆ°configuration"></a>è¯»å–mybatis-config.xmlåˆ°configuration</h4><p>å¯¹ç”ŸæˆsqlSessionFactoryçš„è¯­å¥æ‰“æ–­ç‚¹ï¼šSqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);<br>ç‚¹è¿›ä¸€å±‚å±‚åµŒå¥—çš„buildæ–¹æ³•åï¼Œçœ‹åˆ°ä»¥ä¸‹æ–¹æ³•ï¼š</p><pre class=" language-java"><code class="language-java">  <span class="token keyword">public</span> SqlSessionFactory <span class="token function">build</span><span class="token punctuation">(</span>InputStream inputStream<span class="token punctuation">,</span> String environment<span class="token punctuation">,</span> Properties properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>        SqlSessionFactory var5<span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            XMLConfigBuilder parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLConfigBuilder</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">,</span> environment<span class="token punctuation">,</span> properties<span class="token punctuation">)</span><span class="token punctuation">;</span>            var5 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> var14<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> ExceptionFactory<span class="token punctuation">.</span><span class="token function">wrapException</span><span class="token punctuation">(</span><span class="token string">"Error building SqlSession."</span><span class="token punctuation">,</span> var14<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>            ErrorContext<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> var13<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> var5<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>æ³¨æ„åˆ°æœ‰ä¸ªparseæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å†…éƒ¨è·å–äº†<configuration>æ ‡ç­¾çš„å†…å®¹ã€‚</configuration></p><p>this.parseConfiguration(this.parser.evalNode(â€œ/configurationâ€));</p><p>parseConfigurationæ–¹æ³•å†…å¯¹å…¶ä»–æ ‡ç­¾è¿›è¡Œäº†è§£æã€‚æ³¨æ„this.mapperElement(root.evalNode(â€œmappersâ€));è¿™ä¸€è¡Œï¼Œä¸‹ä¸€èŠ‚å°†é‡ç‚¹åˆ†æè¿™é‡Œã€‚</p><pre class=" language-java"><code class="language-java">  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">parseConfiguration</span><span class="token punctuation">(</span>XNode root<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">propertiesElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"properties"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            Properties settings <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">settingsAsProperties</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"settings"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadCustomVfs</span><span class="token punctuation">(</span>settings<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">typeAliasesElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"typeAliases"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pluginElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"plugins"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">objectFactoryElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"objectFactory"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">objectWrapperFactoryElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"objectWrapperFactory"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reflectorFactoryElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"reflectorFactory"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">settingsElement</span><span class="token punctuation">(</span>settings<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">environmentsElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"environments"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">databaseIdProviderElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"databaseIdProvider"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">typeHandlerElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"typeHandlers"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mapperElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">evalNode</span><span class="token punctuation">(</span><span class="token string">"mappers"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> var3<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BuilderException</span><span class="token punctuation">(</span><span class="token string">"Error parsing SQL Mapper Configuration. Cause: "</span> <span class="token operator">+</span> var3<span class="token punctuation">,</span> var3<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre><p>è¿™äº›æ–¹æ³•ä¸­ï¼Œéšä¾¿ç‚¹ä¸€ä¸ªè¿›å»ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-java"><code class="language-java"> <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">propertiesElement</span><span class="token punctuation">(</span>XNode context<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>context <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>            Properties defaults <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getChildrenAsProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            String resource <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getStringAttribute</span><span class="token punctuation">(</span><span class="token string">"resource"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            String url <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getStringAttribute</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>resource <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> url <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BuilderException</span><span class="token punctuation">(</span><span class="token string">"The properties element cannot specify both a URL and a resource based property file reference.  Please specify one or the other."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>resource <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>                defaults<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>Resources<span class="token punctuation">.</span><span class="token function">getResourceAsProperties</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>url <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>                defaults<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>Resources<span class="token punctuation">.</span><span class="token function">getUrlAsProperties</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            Properties vars <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>configuration<span class="token punctuation">.</span><span class="token function">getVariables</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vars <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>                defaults<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>vars<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>parser<span class="token punctuation">.</span><span class="token function">setVariables</span><span class="token punctuation">(</span>defaults<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>configuration<span class="token punctuation">.</span><span class="token function">setVariables</span><span class="token punctuation">(</span>defaults<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre><p>å¯ä»¥çœ‹åˆ°è§£æå‡ºæ¥çš„å€¼è¢«æ”¾è¿›äº†configurationé‡Œï¼Œè¿™ä¸ªç±»é‡ŒåŒ…ç½—ä¸‡è±¡ï¼Œä»€ä¹ˆéƒ½æœ‰ã€‚åç»­éœ€è¦å–ä»€ä¹ˆå€¼éƒ½å¯ä»¥ä»è¿™é‡Œå–åˆ°ã€‚</p><p>è§£æå®Œæˆåï¼ŒSqlSessionFactoryåˆ›å»ºï¼Œæ„é€ æ–¹æ³•é‡Œä¼ å…¥äº†configuration.</p><p>public DefaultSqlSessionFactory(Configuration configuration) {<br>        this.configuration = configuration;<br>    }</p><p> åŒæ—¶ï¼Œå€¼å¾—æ³¨æ„org.apache.ibatis.session.SqlSessionFactoryBuilderç±»é‡Œæœ‰å¤§é‡é‡è½½çš„buildæ–¹æ³•ï¼Œéƒ½è¿”å›SqlSessionFactoryåˆ›å»ºå®ä¾‹ã€‚è¿™é‡Œç”¨åˆ°äº†å»ºé€ è€…è®¾è®¡æ¨¡å¼ã€‚</p><h4 id="å…³è”æ¥å£å’Œxmlï¼Œç”ŸæˆSqlSession"><a href="#å…³è”æ¥å£å’Œxmlï¼Œç”ŸæˆSqlSession" class="headerlink" title="å…³è”æ¥å£å’Œxmlï¼Œç”ŸæˆSqlSession"></a>å…³è”æ¥å£å’Œxmlï¼Œç”ŸæˆSqlSession</h4><p>ä¸Šæ–‡æåˆ°this.mapperElement(root.evalNode(â€œmappersâ€));è¿™ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒå…³è”äº†mapperæ¥å£å’Œxml.<br>å¦‚å›¾ï¼Œé¦–å…ˆè·å–åˆ°xmlï¼Œç„¶åè°ƒç”¨mapperParser.parse();æ–¹æ³•è¿›è¡Œxmlçš„è§£æã€‚è¿™é‡Œæœ‰ä¸ªthis.bindMapperForNamespace();æ–¹æ³•ï¼Œåœ¨å…¶å†…éƒ¨æ ¹æ®å‘½åç©ºé—´ç»‘å®šäº†xmlå’Œæ¥å£ï¼Œç”¨åˆ°äº†JDKåŠ¨æ€ä»£ç†çš„å†…å®¹ï¼ˆpublic <t> void addMapper(Class<t> type)è¿™ä¸ªæ–¹æ³•é‡Œï¼‰ã€‚è¿™ä¸ªåœ¨åé¢å•ç‹¬æ‰¾ç¯‡æ¥å†™ã€‚<br>æ­¤å¤„æˆ‘ä»¬å…ˆå…³æ³¨xmlçš„æ–¹æ³•æ˜¯æ€ä¹ˆæ·»åŠ åˆ°configurationé‡Œçš„ã€‚<br><img src="https://i.loli.net/2020/09/29/SsAfiwrDPjMudKm.jpg" alt="img"></t></t></p><p><img src="https://i.loli.net/2020/09/29/UlwEFkK9Shdaefg.jpg" alt="img"><br>è¿™ä¸ªæ–¹æ³•å¾ˆæ·±ï¼Œä¸è¦æ€¥ï¼Œæ…¢æ…¢çœ‹ã€‚åˆ°è¿™é‡Œå°±æœ‰ç‚¹çœ‰ç›®äº†ã€‚<br><img src="https://i.loli.net/2020/09/29/2TnzdBraSVIgMYv.jpg" alt="img"><br>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬ç†Ÿæ‚‰çš„å‚æ•°å…¨éƒ½å‡ºç°äº†ã€‚<br><img src="https://i.loli.net/2020/09/29/PoDqWZdQnL6jJUu.jpg" alt="img"><br>å†å…¶åMappedStatementè¢«æ”¾è¿›configurationé‡Œï¼Œåç»­å–ç”¨ç›´æ¥ä»è¿™é‡Œæ‹¿å°±å¥½äº†ã€‚ </p><p>this.configuration.addMappedStatement(statement);</p><p>ç»§ç»­ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆç”ŸæˆsqlSessionå¯¹è±¡ã€‚è¿™ä¸ªå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠconfigurationé‡Œçš„é…ç½®è¯»å–äº†ï¼Œnewäº†ä¸€ä¸ªDefaultSqlSession.</p><pre class=" language-java"><code class="language-java"> <span class="token keyword">private</span> SqlSession <span class="token function">openSessionFromDataSource</span><span class="token punctuation">(</span>ExecutorType execType<span class="token punctuation">,</span> TransactionIsolationLevel level<span class="token punctuation">,</span> <span class="token keyword">boolean</span> autoCommit<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Transaction tx <span class="token operator">=</span> null<span class="token punctuation">;</span>        DefaultSqlSession var8<span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            Environment environment <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>configuration<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            TransactionFactory transactionFactory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTransactionFactoryFromEnvironment</span><span class="token punctuation">(</span>environment<span class="token punctuation">)</span><span class="token punctuation">;</span>            tx <span class="token operator">=</span> transactionFactory<span class="token punctuation">.</span><span class="token function">newTransaction</span><span class="token punctuation">(</span>environment<span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> level<span class="token punctuation">,</span> autoCommit<span class="token punctuation">)</span><span class="token punctuation">;</span>            Executor executor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>configuration<span class="token punctuation">.</span><span class="token function">newExecutor</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> execType<span class="token punctuation">)</span><span class="token punctuation">;</span>            var8 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultSqlSession</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>configuration<span class="token punctuation">,</span> executor<span class="token punctuation">,</span> autoCommit<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> var12<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">closeTransaction</span><span class="token punctuation">(</span>tx<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">throw</span> ExceptionFactory<span class="token punctuation">.</span><span class="token function">wrapException</span><span class="token punctuation">(</span><span class="token string">"Error opening session.  Cause: "</span> <span class="token operator">+</span> var12<span class="token punctuation">,</span> var12<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>            ErrorContext<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> var8<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>è·å–åˆ°sqlSessionå¯¹è±¡åï¼Œå¯ä»¥è°ƒç”¨æ–¹æ³•è¿›è¡Œæ•°æ®åº“æ“ä½œï¼ŒCRUDæ–¹æ³•éƒ½å°è£…åœ¨SqlSessioné‡Œã€‚è¿™é‡Œæˆ‘ä»¬ä»¥æŸ¥è¯¢ä¸ºä¾‹ï¼Œçœ‹çœ‹selectOneæ–¹æ³•ã€‚<br>è¿™ä¸ªæ–¹æ³•ä¸»è¦æœ‰å¦‚ä¸‹ä¸¤è¡Œï¼š<br>MappedStatement ms = this.configuration.getMappedStatement(statement); </p><p>var5 = this.executor.query(ms, this.wrapCollection(parameter), rowBounds, Executor.NO_RESULT_HANDLER);</p><p>ç¬¬ä¸€è¡Œå°±æ˜¯å»é…ç½®ç±»ä¸­è¯»å–ä¸Šæ–‡å†™å…¥çš„MappedStatement.ç¬¬äºŒè¡Œæ‰§è¡Œæ“ä½œï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢é©¬ä¸Šè®²åˆ°ã€‚</p><h4 id="æ‰§è¡ŒSQL"><a href="#æ‰§è¡ŒSQL" class="headerlink" title="æ‰§è¡ŒSQL"></a>æ‰§è¡ŒSQL</h4><p>æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œæœ€ä¸»è¦çš„å°±æ˜¯å¦‚ä¸‹ä¸‰å¥è¯ï¼š</p><pre class=" language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token operator">&lt;</span>E<span class="token operator">></span> List<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">query</span><span class="token punctuation">(</span>MappedStatement ms<span class="token punctuation">,</span> Object parameter<span class="token punctuation">,</span> RowBounds rowBounds<span class="token punctuation">,</span> ResultHandler resultHandler<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException <span class="token punctuation">{</span>        BoundSql boundSql <span class="token operator">=</span> ms<span class="token punctuation">.</span><span class="token function">getBoundSql</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>        CacheKey key <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createCacheKey</span><span class="token punctuation">(</span>ms<span class="token punctuation">,</span> parameter<span class="token punctuation">,</span> rowBounds<span class="token punctuation">,</span> boundSql<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>ms<span class="token punctuation">,</span> parameter<span class="token punctuation">,</span> rowBounds<span class="token punctuation">,</span> resultHandler<span class="token punctuation">,</span> key<span class="token punctuation">,</span> boundSql<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>ç¬¬ä¸€è¡Œå°±æ˜¯é€šè¿‡MappedStatementè¿˜æœ‰æŸ¥è¯¢å‚æ•°æ¥ç”ŸæˆBoundSqlã€‚BoundSqlå°±æ˜¯å¯¹sqlçš„åŒ…è£…ï¼ŒåŒ…å«sqlè¯­å¥ï¼Œå‚æ•°ï¼ŒList(å‚æ•°çš„mapping)ã€‚è¿™ä¸ªç”Ÿæˆçš„è¿‡ç¨‹å¾ˆå¤æ‚ï¼ŒåŒ…æ‹¬å ä½ç¬¦çš„æ›¿æ¢ç­‰ç­‰ã€‚<br>ç¬¬äºŒè¡Œæ˜¯ç”Ÿæˆä¸€çº§ç¼“å­˜çš„key.å¢åˆ æ”¹æ–¹æ³•éƒ½ä¼šæ›´æ–°ç¼“å­˜ï¼ŒæŸ¥è¯¢æ–¹æ³•ä¼šå…ˆå»æŸ¥è¯¢ç¼“å­˜ï¼ŒæŸ¥ä¸åˆ°å†å»æŸ¥æ•°æ®åº“ã€‚è¿™ä¸ªé€»è¾‘åœ¨ç¬¬ä¸‰è¡Œæ–¹æ³•é‡Œã€‚<br>ç¬¬ä¸‰è¡Œæ‰§è¡ŒæŸ¥è¯¢çš„è¿‡ç¨‹ã€‚ä»£ç åŒ…å¾—å¾ˆæ·±æ·±æ·±é©¬é‡Œäºšçº³æµ·æ²Ÿé‚£ä¹ˆæ·±ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><pre class=" language-java"><code class="language-java">  <span class="token keyword">public</span> <span class="token operator">&lt;</span>E<span class="token operator">></span> List<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token function">doQuery</span><span class="token punctuation">(</span>MappedStatement ms<span class="token punctuation">,</span> Object parameterObject<span class="token punctuation">,</span> RowBounds rowBounds<span class="token punctuation">,</span> ResultHandler resultHandler<span class="token punctuation">,</span> BoundSql boundSql<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException <span class="token punctuation">{</span>        Statement stmt <span class="token operator">=</span> null<span class="token punctuation">;</span>        List var10<span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">flushStatements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            Configuration configuration <span class="token operator">=</span> ms<span class="token punctuation">.</span><span class="token function">getConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            StatementHandler handler <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">newStatementHandler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>wrapper<span class="token punctuation">,</span> ms<span class="token punctuation">,</span> parameterObject<span class="token punctuation">,</span> rowBounds<span class="token punctuation">,</span> resultHandler<span class="token punctuation">,</span> boundSql<span class="token punctuation">)</span><span class="token punctuation">;</span>            Connection connection <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>ms<span class="token punctuation">.</span><span class="token function">getStatementLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            stmt <span class="token operator">=</span> handler<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transaction<span class="token punctuation">.</span><span class="token function">getTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            handler<span class="token punctuation">.</span><span class="token function">parameterize</span><span class="token punctuation">(</span>stmt<span class="token punctuation">)</span><span class="token punctuation">;</span>            var10 <span class="token operator">=</span> handler<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>stmt<span class="token punctuation">,</span> resultHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">closeStatement</span><span class="token punctuation">(</span>stmt<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> var10<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>å…¶å®ä¸»è¦å°±æ˜¯ç”Ÿæˆå¹¶æ‰§è¡Œäº†Statementï¼Œå…·ä½“ç»†èŠ‚è‡ªè®¤åŠŸåŠ›ä¸å¤Ÿï¼Œçœ‹å¾—æˆ‘çœ¼èŠ±ç¼­ä¹±å‘œå‘œã€‚ç­‰æˆ‘å†å†ç»ƒå†ç»ƒå›æ¥è¡¥å…¨ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è‡³æ­¤ï¼Œç¬¬ä¸€ç« ç»“æŸå•¦ã€‚å…¶å®åˆšåˆšåœ¨è¯»æºç æ—¶æœ‰ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶mybatisæä¾›äº†ä¸€çº§ç¼“å­˜ä¸”é»˜è®¤å¼€å¯ï¼Œé‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„ä¸šåŠ¡ä¸­è¿˜éœ€è¦rediså‘¢ï¼ŸåŸæ¥æ˜¯å› ä¸ºspringä¸­æ¯æ¡sqlçš„æ‰§è¡Œéƒ½ä¼šéšå¼æäº¤äº‹åŠ¡ã€‚<br>è¿™æ ·sqlSessionæ¯æ¬¡éƒ½æ˜¯æ–°å»ºçš„ï¼Œç¼“å­˜è‡ªç„¶ä¹Ÿä¸èµ·ä½œç”¨å•¦ã€‚å…·ä½“å†…å®¹å¯ä»¥å‚è€ƒè¿™ç¯‡åšæ–‡å“¦ï¼š<a href="https://blog.csdn.net/ex_tang/article/details/83155031" target="_blank" rel="noopener">https://blog.csdn.net/ex_tang/article/details/83155031</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> ç»ƒä¹ é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> java </tag>
            
            <tag> mybatis </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰æ³¨è§£æ ¡éªŒ</title>
      <link href="2020/08/27/constraint_validator/"/>
      <url>2020/08/27/constraint_validator/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ä¸ªä¸å€¼é’±çš„å°demoã€‚</p><ol><li>é¦–å…ˆéœ€è¦ä¸ªå®ä½“ç±»ï¼Œéœ€è¦ä¸ªæ³¨è§£</li></ol><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>constraint_validator<span class="token punctuation">.</span>test<span class="token punctuation">;</span><span class="token keyword">import</span> lombok<span class="token punctuation">.</span>Data<span class="token punctuation">;</span><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pojo</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@IsYS</span>    <span class="token keyword">private</span> String desc<span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><ol start="2"><li>ç„¶åå®šä¹‰è¿™ä¸ªæ³¨è§£ï¼Œå¹¶ä¸”ç»™å®ƒæŒ‡å®šæ ¡éªŒæ–¹æ¡ˆã€‚</li></ol><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>constraint_validator<span class="token punctuation">.</span>test<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>Constraint<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>Payload<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>*<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** * è‡ªå®šä¹‰æ³¨è§£é€»è¾‘å¤„ç†ç±»ç”±äºå®ç°äº†ConstraintValidatoræ¥å£ï¼Œæ‰€ä»¥å®ƒé»˜è®¤è¢«springç®¡ç†æˆbean, * æ‰€ä»¥å¯ä»¥åœ¨è¿™ä¸ªé€»è¾‘å¤„ç†ç±»é‡Œé¢ç”¨@Autowireduæˆ–è€…@Resourcesæ³¨å…¥åˆ«çš„æœåŠ¡ï¼Œè€Œä¸”ä¸ç”¨åœ¨ç±»ä¸Šé¢ç”¨@Compentæ³¨è§£æˆspringçš„bean. * * åœ¨springçš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›ç°æˆçš„æ³¨è§£å¯ä»¥ä½¿ç”¨ã€‚ * @AssertFalse è¯¥å€¼å¿…é¡»ä¸ºFalse * @AssertTrue è¯¥å€¼å¿…é¡»ä¸ºTrue * @DecimalMax(valueï¼Œinclusive) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼ ï¼Œinclusiveè¡¨ç¤ºæ˜¯å¦åŒ…å«è¯¥å€¼ * @DecimalMin(valueï¼Œinclusive) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼ ï¼Œinclusiveè¡¨ç¤ºæ˜¯å¦åŒ…å«è¯¥å€¼ * @Digits é™åˆ¶å¿…é¡»ä¸ºä¸€ä¸ªå°æ•°ï¼Œä¸”æ•´æ•°éƒ¨åˆ†çš„ä½æ•°ä¸èƒ½è¶…è¿‡integerï¼Œå°æ•°éƒ¨åˆ†çš„ä½æ•°ä¸èƒ½è¶…è¿‡fraction * @Email è¯¥å€¼å¿…é¡»ä¸ºé‚®ç®±æ ¼å¼ * @Future è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ *@FutureOrPresent è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªç°åœ¨æˆ–å°†æ¥çš„æ—¥æœŸ * @Max(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼ * @Min(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼ * @Negative è¯¥å€¼å¿…é¡»å°äº0 * @NegativeOrZero è¯¥å€¼å¿…é¡»å°äºç­‰äº0 * @NotBlank è¯¥å€¼ä¸ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚â€œ â€ * @NotEmpty è¯¥å€¼ä¸ä¸ºç©ºå­—ç¬¦ä¸² * @NotNull è¯¥å€¼ä¸ä¸ºNull * @Null è¯¥å€¼å¿…é¡»ä¸ºNull * @Past è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ * @PastOrPresent è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»æˆ–ç°åœ¨çš„æ—¥æœŸ * @Pattern(regexp) åŒ¹é…æ­£åˆ™ * @Positive è¯¥å€¼å¿…é¡»å¤§äº0 * @PositiveOrZero è¯¥å€¼å¿…é¡»å¤§äºç­‰äº0 * @Size(min,max) æ•°ç»„å¤§å°å¿…é¡»åœ¨[min, max]è¿™ä¸ªåŒºé—´ * * æœ‰æ—¶å€™æ ¹æ®é¡¹ç›®çš„æ‹“å±•è¿™äº›éªŒè¯æ³¨è§£ä¸å¤Ÿç”¨ï¼Œå°±éœ€è¦è‡ªå®šä¹‰éªŒè¯æ³¨è§£. * @Target æ ‡è®°äº†å¯ä»¥ä½¿ç”¨æ³¨è§£çš„ä½ç½® * @Retention æŒ‡å®šäº†æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ * @Documented æ ‡è®°äº†å¯ä»¥è¢«æ–‡æ¡£åŒ– * @Constraint è¡¨ç¤ºæ ¡éªŒæ­¤æ³¨è§£çš„æ ¡éªŒå™¨ç±» */</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>ElementType<span class="token punctuation">.</span>METHOD<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>FIELD<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>ANNOTATION_TYPE<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>CONSTRUCTOR<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>PARAMETER<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token annotation punctuation">@Documented</span><span class="token annotation punctuation">@Constraint</span><span class="token punctuation">(</span>        validatedBy <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>IsYSValidator<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å¼•è¿›æ ¡éªŒå™¨</span><span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">IsYS</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> <span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//é»˜è®¤ä¸èƒ½ä¸ºç©º</span>    String <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">"å¯¹YSæè¿°é”™è¯¯"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ ¡éªŒä¸é€šè¿‡è¾“å‡ºä¿¡æ¯</span>    Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">groups</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span>    Class<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Payload</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">payload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>constraint_validator<span class="token punctuation">.</span>test<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span>StringUtils<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>ConstraintValidator<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>ConstraintValidatorContext<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IsYSValidator</span> <span class="token keyword">implements</span> <span class="token class-name">ConstraintValidator</span><span class="token operator">&lt;</span>IsYS<span class="token punctuation">,</span> String<span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//åˆå§‹åŒ–</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initialize</span><span class="token punctuation">(</span>IsYS isYS<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        required <span class="token operator">=</span> isYS<span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span>String value<span class="token punctuation">,</span> ConstraintValidatorContext constraintValidatorContext<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>required<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> ValidatorUtil<span class="token punctuation">.</span><span class="token function">isYS</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> ValidatorUtil<span class="token punctuation">.</span><span class="token function">isYS</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>constraint_validator<span class="token punctuation">.</span>test<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span>StringUtils<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span>Matcher<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span>Pattern<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ValidatorUtil</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//åŒ¹é… YSæ˜¯ä¸ªxxxxxçš„å°çŒª</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Pattern mobile_pattern <span class="token operator">=</span> Pattern<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"(YSæ˜¯åª)(.*?)(çš„å°çŒª)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isYS</span><span class="token punctuation">(</span>String src<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        Matcher m <span class="token operator">=</span> mobile_pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> m<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>3.å¯ä»¥æµ‹è¯•å•¦</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>constraint_validator<span class="token punctuation">.</span>test<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span>Logger<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span>LoggerFactory<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>RequestMapping<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>RequestMethod<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>ResponseBody<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>RestController<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletResponse<span class="token punctuation">;</span><span class="token keyword">import</span> javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>Valid<span class="token punctuation">;</span><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> Logger log <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>TestController<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/validator"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> RequestMethod<span class="token punctuation">.</span>POST<span class="token punctuation">)</span>    <span class="token keyword">public</span> String <span class="token function">doLogin</span><span class="token punctuation">(</span>HttpServletResponse response<span class="token punctuation">,</span> <span class="token annotation punctuation">@Valid</span> Pojo pojo<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"è¾“å…¥æ­£ç¡®"</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://i.loli.net/2020/08/27/oTOsDY7vIf1p5CK.jpg" alt="https://i.loli.net/2020/08/27/oTOsDY7vIf1p5CK.jpg"></p><p><img src="https://i.loli.net/2020/08/27/TM4Pbk2rUBfdNz1.jpg" alt="https://i.loli.net/2020/08/27/TM4Pbk2rUBfdNz1.jpg"></p><p><img src="https://i.loli.net/2020/08/27/mLTZngaxFH2ozv4.jpg" alt="https://i.loli.net/2020/08/27/mLTZngaxFH2ozv4.jpg"></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> AOP </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çœ‹ä¼¼ç®€å•ä½†å®¹æ˜“å¿½è§†çš„ç¼–ç¨‹å¸¸è¯†</title>
      <link href="2020/08/13/recommand/"/>
      <url>2020/08/13/recommand/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/peke/p/8818486.html">https://www.cnblogs.com/peke/p/8818486.html</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java8 æµå¼ç¼–ç¨‹</title>
      <link href="2020/08/12/java8stream/"/>
      <url>2020/08/12/java8stream/</url>
      
        <content type="html"><![CDATA[<h1 id="1-ç±»å‹æ¨æ–­"><a href="#1-ç±»å‹æ¨æ–­" class="headerlink" title="1. ç±»å‹æ¨æ–­"></a>1. ç±»å‹æ¨æ–­</h1><p>ä»€ä¹ˆæ˜¯ç±»å‹æ¨æ–­ï¼Ÿä»ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜ã€‚</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// TODO Auto-generated method stub</span>        IntStream<span class="token punctuation">.</span><span class="token function">rangeClosed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>          <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>ä»¥ä¸Šint numberæ˜¾ç¤ºåœ°å£°æ˜äº†å‚æ•°çš„ç±»å‹ï¼Œè¿™ä½¿ä»£ç ä¸Šçœ‹èµ·æ¥ä¸å¤Ÿæ¸…çˆ½ã€‚ç±»å‹æ¨æ–­ï¼Œå°±æ˜¯æŒ‡çœç•¥è¿™äº›æ˜¾è€Œæ˜“è§çš„å†…å®¹ï¼ŒæŠŠç±»å‹æ¨æ–­äº¤ç»™ç¼–è¯‘å™¨ã€‚æ”¹è¿›åçš„å†…å®¹å¦‚ä¸‹ï¼š</p><pre class=" language-java"><code class="language-java">IntStream<span class="token punctuation">.</span><span class="token function">rangeClosed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>number <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å°±æ˜¯è¿™ä¹ˆä¸ªæ„æ€ï¼Œåç§°æ¯”ç±»å‹æ›´ä¸ºé‡è¦ã€‚æ›´å¤šä¿¡æ¯å‚è€ƒï¼š<a href="http://www.imooc.com/article/details/id/22660%EF%BC%88%E7%84%B6%E8%80%8C%E5%B9%B6%E6%B2%A1%E6%9C%89%E6%9B%B4%E7%BB%86%E4%BA%86%E8%A7%A3%E7%9A%84%E5%BF%85%E8%A6%81%E3%80%82%EF%BC%89" target="_blank" rel="noopener">http://www.imooc.com/article/details/id/22660ï¼ˆç„¶è€Œå¹¶æ²¡æœ‰æ›´ç»†äº†è§£çš„å¿…è¦ã€‚ï¼‰</a></p><h1 id="2-æµçš„åˆ›å»º"><a href="#2-æµçš„åˆ›å»º" class="headerlink" title="2. æµçš„åˆ›å»º"></a>2. æµçš„åˆ›å»º</h1><h2 id="2-1-Collection-stream-Collection-parallelStream"><a href="#2-1-Collection-stream-Collection-parallelStream" class="headerlink" title="2.1 Collection.stream(),Collection.parallelStream()"></a>2.1 Collection.stream(),Collection.parallelStream()</h2><p>å¯ä»¥é¡ºä¾¿çœ‹ä¸€ä¸‹æµçš„è¿­ä»£æ–¹å¼ã€‚</p><pre class=" language-java"><code class="language-java"><span class="token keyword">final</span> <span class="token keyword">long</span> count <span class="token operator">=</span> 100_00000<span class="token punctuation">;</span>List<span class="token operator">&lt;</span>Long<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//=========ä¼ ç»Ÿæ–¹å¼è¿›è¡Œå¤–éƒ¨è¿­ä»£=========</span>Instant begin <span class="token operator">=</span> Instant<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>Long i <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Instant end <span class="token operator">=</span> Instant<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¼ ç»Ÿæ–¹å¼è¿›è¡Œå¤–éƒ¨è¿­ä»£"</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">"æ¬¡,è€—æ—¶(ms)ï¼š"</span> <span class="token operator">+</span> Duration<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//=========java8å†…éƒ¨è¿­ä»£ï¼Œç”¨lambdaå¤„ç†=========</span>begin <span class="token operator">=</span> Instant<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>i <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>end <span class="token operator">=</span> Instant<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å†…éƒ¨è¿­ä»£forEach"</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">"æ¬¡,è€—æ—¶(ms)ï¼š"</span> <span class="token operator">+</span> Duration<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//=========java8è¿›è¡Œå¹¶è¡Œæµå¤„ç†åè¿­ä»£ï¼ˆå¤‡æ³¨ï¼šå¹¶è¡Œæµè¾“å‡ºæ˜¯æ²¡æœ‰é¡ºåºçš„ æ¯”å¦‚ä¸å†æ˜¯1234é¡ºåºäº†ï¼‰=========</span>begin <span class="token operator">=</span> Instant<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>i <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>end <span class="token operator">=</span> Instant<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å†…éƒ¨è¿­ä»£parallelStream"</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">"æ¬¡,è€—æ—¶(ms)ï¼š"</span> <span class="token operator">+</span> Duration<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æ›´å¤šç»†èŠ‚å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/f641385712/article/details/81514334" target="_blank" rel="noopener">https://blog.csdn.net/f641385712/article/details/81514334</a> </p><h2 id="2-2-Arrays-stream-æ•°ç»„"><a href="#2-2-Arrays-stream-æ•°ç»„" class="headerlink" title="2.2 Arrays.stream(æ•°ç»„)"></a>2.2 Arrays.stream(æ•°ç»„)</h2><pre><code> Employee[] emps = new Employee[10]; Stream&lt;Employee&gt; stream2 = Arrays.stream(emps);</code></pre><h2 id="2-3-Stream-of"><a href="#2-3-Stream-of" class="headerlink" title="2.3 Stream.of"></a>2.3 Stream.of</h2><pre class=" language-java"><code class="language-java">Stream<span class="token operator">&lt;</span>String<span class="token operator">></span> stream3 <span class="token operator">=</span> Stream<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"aa"</span><span class="token punctuation">,</span> <span class="token string">"bb"</span><span class="token punctuation">,</span> <span class="token string">"cc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="2-4-æ— é™æµ"><a href="#2-4-æ— é™æµ" class="headerlink" title="2.4 æ— é™æµ"></a>2.4 æ— é™æµ</h2><pre><code>        //é€šè¿‡è¿­ä»£åˆ›å»ºæ— é™æµ        Stream&lt;Integer&gt; stream4 = Stream.iterate(0, (x) -&gt; x + 2);        //ä¸­é—´æ“ä½œå’Œç»ˆæ­¢æ“ä½œ        stream4.limit(10).forEach(System.out::println);</code></pre><pre><code>Stream.generate(() -&gt; Math.random())        .limit(5)        .forEach(System.out::println);</code></pre><h1 id="3-ç­›é€‰ä¸åˆ‡ç‰‡"><a href="#3-ç­›é€‰ä¸åˆ‡ç‰‡" class="headerlink" title="3. ç­›é€‰ä¸åˆ‡ç‰‡"></a>3. ç­›é€‰ä¸åˆ‡ç‰‡</h1><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5022</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5055</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5055</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5055</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">50554</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åªé€‰å‰ä¸¤ä¸ª"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> e<span class="token operator">></span> <span class="token number">5000</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> e <span class="token operator">></span> <span class="token number">5000</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h1 id="4-æƒ°æ€§æ±‚å€¼å’ŒåŠæ—©æ±‚å€¼"><a href="#4-æƒ°æ€§æ±‚å€¼å’ŒåŠæ—©æ±‚å€¼" class="headerlink" title="4. æƒ°æ€§æ±‚å€¼å’ŒåŠæ—©æ±‚å€¼"></a>4. æƒ°æ€§æ±‚å€¼å’ŒåŠæ—©æ±‚å€¼</h1><pre class=" language-java"><code class="language-java">List<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æ ¹æœ¬ä¸ä¼šæ‰§è¡Œ</span><span class="token comment" spellcheck="true">//å®é™…ä¸‹é¢çš„ä¸€æ®µä»£ç æ˜¯æ²¡æœ‰ä»»ä½•è¾“å‡ºçš„ï¼›</span><span class="token comment" spellcheck="true">//è€ŒåŸå› åˆ™æ˜¯filteråªåˆ»ç”»äº†streamï¼Œä½†æ˜¯å¹¶æ²¡æœ‰äº§ç”Ÿæ–°çš„é›†åˆï¼Œè€Œåƒè¿™ç§æ²¡æœ‰å®é™…åŠŸèƒ½ï¼Œåªæ˜¯æè¿°streamçš„æ“ä½œï¼Œå°±å«åšæƒ°æ€§æ±‚å€¼ï¼›</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¦‚æœåœ¨filterååŠ ä¸Šæ–¹æ³•ï¼Œæ¯”å¦‚count()ï¼Œåˆ™ä¼šæ‰§è¡Œprintè¯­å¥ï¼Œä»£ç å¦‚ä¸‹ï¼š</span><span class="token comment" spellcheck="true">//è¿™ç§æ“ä½œåˆ™æ˜¯åŠæ—©æ±‚å€¼ã€‚</span><span class="token comment" spellcheck="true">//æƒ³è¦åˆ¤æ–­æ˜¯æƒ°æ€§æ±‚å€¼ä¸åŠæ—©æ±‚å€¼çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦çœ‹è¿”å›å€¼å°±å¥½ï¼Œå¦‚æœæ˜¯streamåˆ™æ˜¯æƒ°æ€§æ±‚å€¼ï¼Œè€Œå¦‚æœæ˜¯å¦ä¸€ä¸ªå€¼æˆ–æ˜¯ç©ºå€¼åˆ™æ˜¯åŠæ—©æ±‚å€¼ã€‚</span><span class="token comment" spellcheck="true">//æ•´ä¸ªè¿‡ç¨‹ä¹Ÿå’Œå»ºé€ è€…æ¨¡å¼æœ‰å…±é€šä¹‹å¤„ï¼Œå»ºé€ è€…æ¨¡å¼ä½¿ç”¨ä¸€ç³»åˆ—æ“ä½œè®¾ç½®å±æ€§å’Œé…ç½®ï¼Œæœ€åä½¿ç”¨buildæ–¹æ³•ï¼Œè¿™æ—¶å¯¹è±¡æ‰ä¼šè¢«åˆ›å»ºã€‚</span><span class="token keyword">long</span> count <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h1 id="5-mapå’ŒflatMap"><a href="#5-mapå’ŒflatMap" class="headerlink" title="5. mapå’ŒflatMap"></a>5. mapå’ŒflatMap</h1><pre class=" language-java"><code class="language-java">       <span class="token comment" spellcheck="true">//-------------------------------------ä¾‹1-----------------------------------------</span>        <span class="token comment" spellcheck="true">//* map(Function f) æ¥æ”¶Lambdaï¼Œå°†å…ƒç´ è½¬æ¢æˆå…¶ä»–å½¢å¼æˆ–æå–ä¿¡æ¯ã€‚æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œ</span><span class="token comment" spellcheck="true">//                                      è¯¥å‚æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚</span>        <span class="token comment" spellcheck="true">//* mapToDouble(ToDoubleFunction f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ DoubleStreamã€‚</span>        <span class="token comment" spellcheck="true">//* mapToInt(ToIntFunction f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ IntStreamã€‚</span>        <span class="token comment" spellcheck="true">//* mapToLong(ToLongFunction f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ LongStreamã€‚</span>        <span class="token comment" spellcheck="true">//* flatMap(Function f) æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµ</span>        List<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span><span class="token string">"lisi"</span><span class="token punctuation">,</span><span class="token string">"wangwu"</span><span class="token punctuation">,</span><span class="token string">"zhaoliu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>e<span class="token operator">-</span><span class="token operator">></span>e<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>e<span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>            List list1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> x <span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                list1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> list1<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//----------------------------------ä¾‹2--------------------------------------</span>        <span class="token comment" spellcheck="true">//todo æˆ‘æ²¡ææ‡‚ä¸ºä»€ä¹ˆæ˜¯å­—ç¬¦ä¸²å´è¾“å‡ºåœ°å€</span>        String<span class="token punctuation">[</span><span class="token punctuation">]</span> words <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"Hello"</span><span class="token punctuation">,</span><span class="token string">"World"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>word <span class="token operator">-</span><span class="token operator">></span> word<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-------------------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//    ä½¿ç”¨flatMapæ–¹æ³•çš„æ•ˆæœæ˜¯ï¼Œå„ä¸ªæ•°ç»„å¹¶ä¸æ˜¯åˆ†åˆ«æ˜ å°„ä¸€ä¸ªæµï¼Œè€Œæ˜¯æ˜ å°„æˆæµçš„å†…å®¹ï¼Œ</span>        <span class="token comment" spellcheck="true">//    æ‰€æœ‰ä½¿ç”¨flatMap(Array::stream)æ—¶ç”Ÿæˆçš„å•ä¸ªæµè¢«åˆå¹¶èµ·æ¥ï¼Œå³æ‰å¹³åŒ–ä¸ºä¸€ä¸ªæµã€‚</span>        Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>word <span class="token operator">-</span><span class="token operator">></span> word<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>Arrays<span class="token operator">:</span><span class="token operator">:</span>stream<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿™éƒ¨åˆ†äº‘é‡Œé›¾é‡Œçš„ç¡®å®æ²¡çœ‹æ‡‚ï¼Œæˆ‘åœ¨ç­‰å¤§ä½¬çœ‹æ‡‚äº†ç»™æˆ‘è®²ï¼Œç„¶è€Œå¤§ä½¬æ˜¯ç”·äººï¼Œç”·äººéƒ½æ˜¯éª—å­ï¼Œæ‰€ä»¥â€¦â€¦è¿˜æ˜¯å…ˆçœ‹è¿è¡Œç»“æœï¼š</p><blockquote><p>ZHANGSAN<br>LISI<br>WANGWU<br>ZHAOLIU<br>z<br>h<br>a<br>n<br>g<br>s<br>a<br>n<br>l<br>i<br>s<br>i<br>w<br>a<br>n<br>g<br>w<br>u<br>z<br>h<br>a<br>o<br>l<br>i<br>u<br>[Ljava.lang.String;@37bba400</p><h2 id="Ljava-lang-String-179d3b25"><a href="#Ljava-lang-String-179d3b25" class="headerlink" title="[Ljava.lang.String;@179d3b25"></a>[Ljava.lang.String;@179d3b25</h2><p>HeloWrd<br>Process finished with exit code 0</p></blockquote><p>è¿™é‡Œæ˜ç™½å•¦ï¼Œå…¶å®è¿˜æ˜¯mapå’ŒflatMapçš„åŒºåˆ«ã€‚mapæ˜¯æ˜ å°„åˆ°æ–°å…ƒç´ åå½¢æˆå¤šä¸ªæµï¼Œæ‰€ä»¥ä¸Šé¢è¾“å‡ºçš„å…¶å®æ˜¯å­—ç¬¦ä¸²æ•°ç»„çš„åœ°å€ï¼Œè€ŒflatMapæ˜¯æ˜ å°„ä¸ºåŒä¸€ä¸ªæµã€‚ç„¶åæ¥ç€åˆå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸ä¸€æ ·ï¼š</p><pre class=" language-java"><code class="language-java"> String<span class="token punctuation">[</span><span class="token punctuation">]</span> words <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"Hello"</span><span class="token punctuation">,</span><span class="token string">"World"</span><span class="token punctuation">}</span><span class="token punctuation">;</span> Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>word <span class="token operator">-</span><span class="token operator">></span> word<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>Arrays<span class="token operator">:</span><span class="token operator">:</span>stream<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">;</span>  Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>word <span class="token operator">-</span><span class="token operator">></span> word<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>Arrays<span class="token operator">:</span><span class="token operator">:</span>stream<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿™ä¸ªè¿˜æ˜¯å¤§ä½¬è§£ç­”äº†ï¼Œå°è‰å¥½æ„ŸåŠ¨ï¼Œè´´ä¸Šå¤§ä½¬çš„ä»£ç ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> java8stream<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Arrays<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>Stream<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token keyword">static</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>Collectors<span class="token punctuation">.</span>toList<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** * @author bys * @date 2020/8/17 11:00 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StreamByGXYSZ</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        String<span class="token punctuation">[</span><span class="token punctuation">]</span> words <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"World"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// distinct() æœ‰çŠ¶æ€çš„ä¸­é—´æ“ä½œï¼Œå…ƒç´ çš„å¤„ç†å—åˆ°å‰é¢å…ƒç´ çš„å½±å“</span>        <span class="token comment" spellcheck="true">// æµé‡Œé¢æ˜¯æ•°ç»„ï¼Œä½¿ç”¨distinctä¼šå¯¹ æ•°ç»„åœ°å€ è¿›è¡Œå»é‡ï¼Œåœ°å€ä¸åŒä¸ä¼šå»é‡</span>        Stream<span class="token operator">&lt;</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> stream <span class="token operator">=</span> Arrays                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>word <span class="token operator">-</span><span class="token operator">></span> word<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stream                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>Arrays<span class="token operator">:</span><span class="token operator">:</span>stream<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// HelloHelloWorld</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æµé‡Œé¢æ˜¯å­—ç¬¦ä¸²ï¼Œä½¿ç”¨distinctä¼šå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¯¹æ¯”å»é‡ï¼Œåªå‰©ä¸‹ä¸€ä¸ªHello</span>        Stream<span class="token operator">&lt;</span>String<span class="token operator">></span> stream1 <span class="token operator">=</span> Arrays                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span>        stream1                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// HelloWorld</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æµé‡Œé¢æ˜¯å­—ç¬¦ä¸²ï¼ŒflatMapå¯¹æ‰€æœ‰æµè¿›è¡Œåˆå¹¶å½¢æˆä¸€ä¸ªæ•´åˆæµï¼Œå­˜ä¸€ä¸ªå­—ç¬¦ä¸² HelloHelloWorldï¼Œå†å»é‡ç›¸å½“äºStringå­—ç¬¦ä¸²å»é‡</span>        Stream<span class="token operator">&lt;</span>String<span class="token operator">></span> stream2 <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>word <span class="token operator">-</span><span class="token operator">></span> word<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>Arrays<span class="token operator">:</span><span class="token operator">:</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>        stream2                <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// HeloWrd</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h1 id="6-æ’åº"><a href="#6-æ’åº" class="headerlink" title="6.æ’åº"></a>6.æ’åº</h1><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//Stream&lt;T> sorted();äº§ç”Ÿä¸€ä¸ªæ–°çš„æµï¼ŒæŒ‰ç…§é»˜è®¤é¡ºåºæ’åº</span><span class="token comment" spellcheck="true">//Stream&lt;T> sorted(Comparator&lt;? super T> comparator);äº§ç”Ÿä¸€ä¸ªæ–°æµï¼Œå…¶ä¸­æŒ‰æ¯”è¾ƒå™¨é¡ºåºæ’åº</span>List<span class="token operator">&lt;</span>Employee<span class="token operator">></span> emps <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>        <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">"æå››"</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">6666.66</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">9999.99</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">"ç‹äº”"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">3333.33</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">"èµµå…­"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7777.77</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">"èµµå…­1"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8777.77</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">"èµµå…­2"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7777.77</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">"ç”°ä¸ƒ"</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">5555.55</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>emps<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Employee<span class="token operator">:</span><span class="token operator">:</span>getAge<span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>println<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">;</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"------------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>emps<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> y<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> Double<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>y<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> Integer<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>e<span class="token operator">-</span><span class="token operator">></span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h1 id="7-ä¸²è¡Œæµå’Œå¹¶è¡Œæµ"><a href="#7-ä¸²è¡Œæµå’Œå¹¶è¡Œæµ" class="headerlink" title="7.ä¸²è¡Œæµå’Œå¹¶è¡Œæµ"></a>7.ä¸²è¡Œæµå’Œå¹¶è¡Œæµ</h1><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_25112523/article/details/107086727?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.channel_param" target="_blank" rel="noopener">https://blog.csdn.net/qq_25112523/article/details/107086727?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.channel_param</a> </p><h2 id="7-1-ä¸²è¡Œæµstream"><a href="#7-1-ä¸²è¡Œæµstream" class="headerlink" title="7.1 ä¸²è¡Œæµstream"></a>7.1 ä¸²è¡Œæµstream</h2><p>å…¶å®åœ¨å‰é¢å·²ç»ä»‹ç»äº†å¾ˆå¤šä¸²è¡Œæµçš„æ–¹æ³•äº†ï¼Œè¿™é‡Œç®€å•åšä¸€ä¸ªæ€»ç»“ã€‚</p><p>streamçš„è·å–æ–¹å¼ï¼š</p><h6 id="è·å–ä¸²è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š"><a href="#è·å–ä¸²è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š" class="headerlink" title="è·å–ä¸²è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š"></a>è·å–ä¸²è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š</h6><ul><li>æ‰€æœ‰çš„ Collection é›†åˆéƒ½å¯ä»¥é€šè¿‡ stream é»˜è®¤æ–¹æ³•è·å–æµï¼š<code>list.stream();</code></li><li>Stream æ¥å£çš„é™æ€æ–¹æ³• of å¯ä»¥è·å–æ•°ç»„å¯¹åº”çš„æµï¼š<code>Stream.of(6,1,5,4,3);</code></li></ul><h6 id="å¸¸ç”¨æ–¹æ³•ï¼š"><a href="#å¸¸ç”¨æ–¹æ³•ï¼š" class="headerlink" title="å¸¸ç”¨æ–¹æ³•ï¼š"></a>å¸¸ç”¨æ–¹æ³•ï¼š</h6><p><img src="https://img-blog.csdnimg.cn/20200702162233755.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI1MTEyNTIz,size_16,color_FFFFFF,t_70" alt="img"> </p><h6 id="Streamæ³¨æ„äº‹é¡¹-é‡è¦"><a href="#Streamæ³¨æ„äº‹é¡¹-é‡è¦" class="headerlink" title="Streamæ³¨æ„äº‹é¡¹(é‡è¦)"></a>Streamæ³¨æ„äº‹é¡¹(é‡è¦)</h6><ol><li>Streamåªèƒ½æ“ä½œä¸€æ¬¡</li><li>Streamæ–¹æ³•è¿”å›çš„æ˜¯æ–°çš„æµ</li><li>Streamä¸è°ƒç”¨ç»ˆç»“æ–¹æ³•ï¼Œä¸­é—´çš„æ“ä½œä¸ä¼šæ‰§è¡Œ</li></ol><h2 id="7-2-å¹¶è¡ŒæµparallelStream"><a href="#7-2-å¹¶è¡ŒæµparallelStream" class="headerlink" title="7.2 å¹¶è¡ŒæµparallelStream"></a>7.2 å¹¶è¡ŒæµparallelStream</h2><h6 id="è·å–å¹¶è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š"><a href="#è·å–å¹¶è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š" class="headerlink" title="è·å–å¹¶è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š"></a>è·å–å¹¶è¡Œæµçš„ä¸¤ç§æ–¹å¼ï¼š</h6><ul><li>ç›´æ¥è·å–å¹¶è¡Œçš„æµï¼š</li><li>å°†ä¸²è¡Œæµè½¬æˆå¹¶è¡Œæµï¼š</li></ul><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// ç›´æ¥è·å–å¹¶è¡Œçš„æµ</span>ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stream <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å°†ä¸²è¡Œæµè½¬æˆå¹¶è¡Œæµ</span>ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stream<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stream <span class="token operator">=</span> list2<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h6 id="è§£å†³å¹¶è¡Œæµçš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼š"><a href="#è§£å†³å¹¶è¡Œæµçš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼š" class="headerlink" title="è§£å†³å¹¶è¡Œæµçš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼š"></a>è§£å†³å¹¶è¡Œæµçš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼š</h6><p>å¤šçº¿ç¨‹ä¸‹ï¼Œä½¿ç”¨å¹¶è¡Œæµä¼šæœ‰çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯ä¸ä¼šæŒ‰é¡ºåºæ‰§è¡Œï¼Œå³æ˜¯å¤šä¸ªäº‰å…ˆæŠ¢åçš„æ‰§è¡Œï¼‰</p><p>æ ¹æ®éœ€è¦è¿›è¡Œä¸åŒçš„å¤„ç†ï¼š</p><ul><li>ä½¿ç”¨åŒæ­¥ä»£ç å— <code>synchronized</code> ï¼ˆæ¯”å¦‚ä½¿ç”¨forEachå¾ªç¯å¤„ç†æ—¶ï¼‰</li><li>ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„é›†åˆ <code>Vectorã€Collections.synchronizedList(list)</code></li><li>è°ƒç”¨Streamæµçš„ <code>collect/toArray</code> æ–¹æ³•</li></ul><h6 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h6><ol><li>parallelStreamæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</li><li>parallelStreamé€‚ç”¨çš„åœºæ™¯æ˜¯CPUå¯†é›†å‹çš„ï¼Œåªæ˜¯åšåˆ°åˆ«æµªè´¹CPUï¼Œå‡å¦‚æœ¬èº«ç”µè„‘CPUçš„è´Ÿè½½å¾ˆå¤§ï¼Œé‚£è¿˜åˆ°å¤„ç”¨å¹¶è¡Œæµï¼Œé‚£å¹¶ä¸èƒ½èµ·åˆ°ä½œç”¨</li><li>I/Oå¯†é›†å‹ ç£ç›˜I/Oã€ç½‘ç»œI/Oéƒ½å±äºI/Oæ“ä½œï¼Œè¿™éƒ¨åˆ†æ“ä½œæ˜¯è¾ƒå°‘æ¶ˆè€—CPUèµ„æºï¼Œä¸€èˆ¬å¹¶è¡Œæµä¸­ä¸é€‚ç”¨äºI/Oå¯†é›†å‹çš„æ“ä½œï¼Œå°±æ¯”å¦‚ä½¿ç”¨å¹¶æµè¡Œè¿›è¡Œå¤§æ‰¹é‡çš„æ¶ˆæ¯æ¨é€ï¼Œæ¶‰åŠåˆ°äº†å¤§é‡I/Oï¼Œä½¿ç”¨å¹¶è¡Œæµåè€Œæ…¢äº†å¾ˆå¤š</li><li>åœ¨ä½¿ç”¨å¹¶è¡Œæµçš„æ—¶å€™æ˜¯æ— æ³•ä¿è¯å…ƒç´ çš„é¡ºåºçš„ï¼Œä¹Ÿå°±æ˜¯å³ä½¿ä½ ç”¨äº†åŒæ­¥é›†åˆä¹Ÿåªèƒ½ä¿è¯å…ƒç´ éƒ½æ­£ç¡®ä½†æ— æ³•ä¿è¯å…¶ä¸­çš„é¡ºåº</li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> java8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AOPè®°å½•æ“ä½œæ—¥å¿—ï¼ˆå‰ç«¯ä¼ æ—¥å¿—å‚æ•°ï¼‰</title>
      <link href="2020/08/11/aop_log_threadLocal/"/>
      <url>2020/08/11/aop_log_threadLocal/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ä¸ªAOPè®°æ—¥å¿—çš„å°demo,å‚è€ƒäº†å¤§ä½¬å¸ˆçˆ¶çš„ä»£ç ï¼ˆå¸ˆçˆ¶å¥½å‰å®³<del>~</del>ï¼‰ã€‚ä¸»è¦å‚æ•°å‰ç«¯ä¼ é€’ï¼Œæ–¹æ³•é‡ŒåŠ ä¸ªæ³¨è§£å°±å¥½äº†ã€‚å¦‚æœæ˜¯æ–°å¢çš„æ–¹æ³•ï¼Œéœ€è¦è¿”å›æ–°å¢åè®°å½•çš„ä¸»é”®ã€‚ä»£ç åœ°å€ï¼š<a href="https://github.com/VVFloyd/logging-with-AOP/tree/dev">https://github.com/VVFloyd/logging-with-AOP/tree/dev</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> AOP </tag>
            
            <tag> ThreadLocal </tag>
            
            <tag> log </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸Quillç›¸çˆ±ç›¸æ€</title>
      <link href="2020/08/05/quill/"/>
      <url>2020/08/05/quill/</url>
      
        <content type="html"><![CDATA[<h1 id="1-éœ€æ±‚ï¼š"><a href="#1-éœ€æ±‚ï¼š" class="headerlink" title="1. éœ€æ±‚ï¼š"></a>1. éœ€æ±‚ï¼š</h1><p>ç®¡ç†åå°éœ€è¦ä¸€ä¸ªç¼–è¾‘å™¨å¯¹æ–‡æœ¬å†…å®¹ç¼–è¾‘ï¼Œå†…å®¹ä¿å­˜ä¸ºhtmlï¼Œéœ€è¦å…¼å®¹æ”¯ä»˜å®å°ç¨‹åºçš„å¯Œæ–‡æœ¬æ’ä»¶ã€‚</p><h1 id="2-ä¸»è¦é—®é¢˜ï¼š"><a href="#2-ä¸»è¦é—®é¢˜ï¼š" class="headerlink" title="2. ä¸»è¦é—®é¢˜ï¼š"></a>2. ä¸»è¦é—®é¢˜ï¼š</h1><ol><li>quillç¼–è¾‘çš„æ ·å¼éƒ½æ˜¯ä»¥classçš„å½¢å¼ä¿å­˜ã€‚å°ç¨‹åºæ— æ³•è¿˜åŸè¿™ç±»æ ·å¼ã€‚è§£å†³æ–¹æ³•æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯åœ¨å°ç¨‹åºçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å¤–ï¼Œå¼•å…¥å¯¹åº”å¯Œæ–‡æœ¬æ’ä»¶çš„æ ·å¼ï¼›äºŒæ˜¯é‡å†™ç®¡ç†åå°å¯Œæ–‡æœ¬çš„æ ·å¼ï¼Œæ”¹æˆstyleæ ¼å¼çš„ã€‚æœ¬æ¬¡å¼€å‘é‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•è§£å†³ã€‚</li><li>å¯Œæ–‡æœ¬çš„ç©ºæ ¼å’Œæ®µè½å±•ç¤ºæœ‰ç¼ºé™·ã€‚å‚è€ƒ<a href="http://ueditor.baidu.com/website/onlinedemo.html">http://ueditor.baidu.com/website/onlinedemo.html</a>.æµ‹è¯•æ–¹æ³•ï¼š</li></ol><ul><li>åœ¨ç¼–è¾‘å™¨è¾“å…¥â€œ<code>111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</code><br>â€ï¼Œç„¶ååœ¨ç¬¬ä¸€è¡Œä¸­é—´ä»»æ„ä½ç½®é”®å…¥ç©ºæ ¼ã€‚</li><li>åœ¨æ®µé¦–æŒ‰ç©ºæ ¼é”®ï¼Œæ¯ä¸¤ä¸ªç©ºæ ¼æ‰ç”Ÿæˆä¸€æ¬¡&nbsp;</li></ul><h1 id="3-å®ç°åŠŸèƒ½ï¼š"><a href="#3-å®ç°åŠŸèƒ½ï¼š" class="headerlink" title="3. å®ç°åŠŸèƒ½ï¼š"></a>3. å®ç°åŠŸèƒ½ï¼š</h1><p>é’ˆå¯¹ä»¥ä¸Šéœ€æ±‚å’Œå¯Œæ–‡æœ¬é€šç—…ï¼Œæœ¬æ¬¡å¼€å‘æ”¹è¿›äº†ä»¥ä¸‹é—®é¢˜ï¼Œæ€»ç»“è§£å†³æ–¹æ³•ä»¥ä¾›æ—¥åå‚è€ƒã€‚</p><ol><li>quillè‡ªå®šä¹‰å­—ä½“å¤§å°</li><li>quillè‡ªå®šä¹‰æ®µè½ç¼©è¿›</li><li>å°ç¨‹åºç©ºæ ¼å…¼å®¹</li><li>quillå¯¹é½æ–¹å¼ã€å­—ä½“ç­‰å…¶ä»–æ ·å¼ï¼Œç”±classè½¬ä¸ºstyleçš„å®šä¹‰</li><li>quillè‡ªå®šä¹‰è¡Œé—´è·</li><li>quillå›¾ç‰‡ä¸Šä¼ æ–¹å¼æ›´æ”¹ï¼ˆé»˜è®¤è½¬ä¸ºbase64,æ”¹ä¸ºOSSæ–¹å¼ï¼‰</li></ol><h1 id="4-å…·ä½“å®ç°ï¼š"><a href="#4-å…·ä½“å®ç°ï¼š" class="headerlink" title="4.å…·ä½“å®ç°ï¼š"></a>4.å…·ä½“å®ç°ï¼š</h1><h2 id="4-1-å¼•å…¥æ’ä»¶"><a href="#4-1-å¼•å…¥æ’ä»¶" class="headerlink" title="4.1 å¼•å…¥æ’ä»¶"></a>4.1 å¼•å…¥æ’ä»¶</h2><p>è¿™éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œå®‰è£…ä¾èµ–åå¯å¿«é€Ÿæ­å»ºã€‚å‚è€ƒé“¾æ¥ï¼š</p><ol><li>ä¸­æ–‡æ–‡æ¡£ï¼š<a href="http://kang-bing-kui.gitbook.io/quill/">http://kang-bing-kui.gitbook.io/quill/</a></li><li>è¯¦ç»†æ­¥éª¤ï¼š<a href="https://www.jianshu.com/p/a6cba69d6e49">https://www.jianshu.com/p/a6cba69d6e49</a></li></ol><p>æœ¬æ¬¡å®ç°å˜é‡åç§°ï¼ˆä»…ä¾›æœ¬æ–‡é˜…è¯»æ–¹ä¾¿ï¼‰ï¼š</p><quill-editor v-model="form.text" :options="quillOption" ref="text" class="ql-editor"><h2 id="4-2-è‡ªå®šä¹‰å·¥å…·æ "><a href="#4-2-è‡ªå®šä¹‰å·¥å…·æ " class="headerlink" title="4.2 è‡ªå®šä¹‰å·¥å…·æ "></a>4.2 è‡ªå®šä¹‰å·¥å…·æ </h2><h4 id="1-åœ¨dataä¸­å®šä¹‰"><a href="#1-åœ¨dataä¸­å®šä¹‰" class="headerlink" title="1.åœ¨dataä¸­å®šä¹‰"></a>1.åœ¨dataä¸­å®šä¹‰</h4><p>quillOption: quillConfig,</p><h4 id="2-å¼•å…¥è‡ªå®šä¹‰æ–‡ä»¶ï¼ˆå†™åœ¨ä¸€ä¸ª-vueé‡Œä¹ŸOKçš„ï¼Œæˆ‘å®šä¹‰çš„æ¯”è¾ƒå¤šï¼Œå°±åˆ†å‡ºå»äº†ï¼‰"><a href="#2-å¼•å…¥è‡ªå®šä¹‰æ–‡ä»¶ï¼ˆå†™åœ¨ä¸€ä¸ª-vueé‡Œä¹ŸOKçš„ï¼Œæˆ‘å®šä¹‰çš„æ¯”è¾ƒå¤šï¼Œå°±åˆ†å‡ºå»äº†ï¼‰" class="headerlink" title="2.å¼•å…¥è‡ªå®šä¹‰æ–‡ä»¶ï¼ˆå†™åœ¨ä¸€ä¸ª.vueé‡Œä¹ŸOKçš„ï¼Œæˆ‘å®šä¹‰çš„æ¯”è¾ƒå¤šï¼Œå°±åˆ†å‡ºå»äº†ï¼‰"></a>2.å¼•å…¥è‡ªå®šä¹‰æ–‡ä»¶ï¼ˆå†™åœ¨ä¸€ä¸ª.vueé‡Œä¹ŸOKçš„ï¼Œæˆ‘å®šä¹‰çš„æ¯”è¾ƒå¤šï¼Œå°±åˆ†å‡ºå»äº†ï¼‰</h4><p>import quillConfig from â€œ../quill-config.vueâ€;</p><h4 id="3-åœ¨quillConfigä¸­å¼•å…¥quillå®˜æ–¹çš„æ ·å¼"><a href="#3-åœ¨quillConfigä¸­å¼•å…¥quillå®˜æ–¹çš„æ ·å¼" class="headerlink" title="3.åœ¨quillConfigä¸­å¼•å…¥quillå®˜æ–¹çš„æ ·å¼"></a>3.åœ¨quillConfigä¸­å¼•å…¥quillå®˜æ–¹çš„æ ·å¼</h4><p>import â€œquill/dist/quill.core.cssâ€;</p><p>import â€œquill/dist/quill.snow.cssâ€;</p><p>import â€œquill/dist/quill.bubble.cssâ€;</p><h4 id="4-å¼•å…¥quillå’ŒParchment"><a href="#4-å¼•å…¥quillå’ŒParchment" class="headerlink" title="4.å¼•å…¥quillå’ŒParchment"></a>4.å¼•å…¥quillå’ŒParchment</h4><p>import Quill from â€œquillâ€;</p><p>var Parchment = Quill.<em>import</em>(â€œparchmentâ€);</p><p>ä»€ä¹ˆæ˜¯parchmentï¼Ÿå‚è€ƒæ–‡æ¡£ï¼š<a href="https://segmentfault.com/a/1190000019114222?utm_source=tag-newest">https://segmentfault.com/a/1190000019114222?utm_source=tag-newest</a></p><p>ä¸ç†è§£ä¹Ÿæ²¡å…³ç³»ï¼Œä¸å½±å“åç»­è‡ªå®šä¹‰ã€‚</p><h4 id="5-æ”¹å˜å¯¹é½æ–¹å¼å’Œå­—ä½“çš„æ ·å¼æ ¼å¼"><a href="#5-æ”¹å˜å¯¹é½æ–¹å¼å’Œå­—ä½“çš„æ ·å¼æ ¼å¼" class="headerlink" title="5.æ”¹å˜å¯¹é½æ–¹å¼å’Œå­—ä½“çš„æ ·å¼æ ¼å¼"></a>5.æ”¹å˜å¯¹é½æ–¹å¼å’Œå­—ä½“çš„æ ·å¼æ ¼å¼</h4><p>åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°quillæä¾›äº†ä¸åŒçš„æ ·å¼é€‰æ‹©ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/441338/1596614717371-a54662a2-94fa-4c22-8164-b51ce7e831e8.png" alt="image.png"></p><p>å½“æˆ‘ä»¬æ³¨å†Œclassæ—¶ï¼Œæœ€åç”Ÿæˆçš„htmlä¸­ï¼Œæ ·å¼ä¼šä»¥ql-å¼€å¤´çš„æ ·å¼æ˜¾ç¤ºï¼Œå¦‚æœæ³¨å†Œstyleï¼Œä¼šç”Ÿæˆè¡Œå†…æ ·å¼ã€‚</p><p>ä»£ç å®ç°èµ·æ¥å…¶å®å¾ˆç®€å•ã€‚é¦–å…ˆå»node_modulesé‡Œæ‰¾åˆ°quill.ç‚¹å¼€å¦‚ä¸‹æ–‡ä»¶å¤¹ï¼š</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/441338/1596614944473-9dd9a6a0-028c-49da-acc6-76054541ad0a.png" alt="image.png"></p><p>åœ¨å…¶ä¸­å¯»æ‰¾ä½ éœ€è¦æ”¹å˜çš„æ ·å¼ï¼Œä»¥alignä¸¾ä¾‹ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/441338/1596615061513-37b477fa-6827-46f4-9c2e-94c7089e8adc.png" alt="image.png"></p><p>æŸ¥çœ‹å®ƒçš„æºç ï¼Œä¼šå‘ç°å®ƒå·²ç»å®šä¹‰å¥½äº†ä¸¤ç§æ ¼å¼ï¼šclasså’Œstyle.ç¼–è¾‘å™¨é»˜è®¤æ³¨å†Œçš„æ˜¯classï¼Œè¿™æ˜¯ç”Ÿæˆçš„ä»£ç ä¸­ï¼Œä¼šåŒ…å«ql-align-rightã€al-align-centerç­‰classã€‚å¦‚æœæŠŠå®ƒæ”¹ä¸ºstyleçš„æ³¨å†Œæ–¹å¼ï¼Œç”Ÿæˆçš„ä»£ç ä¼šå˜æˆstyle=â€ text-align: right;â€çš„å½¢å¼ï¼Œåè€…æ‰å¯ä»¥è¢«å°ç¨‹åºè¯†åˆ«ã€‚</p><p>æ˜ç™½äº†åŸç†ï¼Œä»£ç å°±å¾ˆç®€å•äº†ã€‚</p><pre><code>var Align = Quill.import("attributors/style/align");Align.whitelist = ["right", "center", "justify"];//è¿™è¡Œä¸å†™ä¹ŸOKQuill.register(Align, true);</code></pre><p>ç±»ä¼¼çš„ï¼Œå­—ä½“ä¹Ÿå¯ä»¥æŒ‰è¿™ç§æ–¹å¼è¿›è¡Œæ›´æ”¹ã€‚</p><h4 id="6-æ”¹å˜ç¼©è¿›"><a href="#6-æ”¹å˜ç¼©è¿›" class="headerlink" title="6.æ”¹å˜ç¼©è¿›"></a>6.æ”¹å˜ç¼©è¿›</h4><p>è™½ç„¶æ˜ç™½äº†è¿™ç§æ”¹å˜æ–¹å¼ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³å¦‚æ³•ç‚®åˆ¶æ”¹å˜ç¼©è¿›åŠŸèƒ½æ—¶ï¼Œå´å‘ç°æºç æ²¡æœ‰æä¾›styleæ ·å¼ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/441338/1596615601801-a1560235-517b-4ae5-99e1-92547599c38f.png" alt="image.png"></p><pre class=" language-vue"><code class="language-vue">import Parchment from 'parchment';class IdentAttributor extends Parchment.Attributor.Class &#123;  add(node, value) &#123;    if (value === '+1' || value === '-1') &#123;      let indent = this.value(node) || 0;      value = (value === '+1' ? (indent + 1) : (indent - 1));    &#125;    if (value === 0) &#123;      this.remove(node);      return true;    &#125; else &#123;      return super.add(node, value);    &#125;  &#125;  canAdd(node, value) &#123;    return super.canAdd(node, value) || super.canAdd(node, parseInt(value));  &#125;  value(node) &#123;    return parseInt(super.value(node)) || undefined;  // Don't return NaN  &#125;&#125;let IndentClass = new IdentAttributor('indent', 'ql-indent', &#123;  scope: Parchment.Scope.BLOCK,  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]&#125;);export &#123; IndentClass &#125;;</code></pre><p>ä½ é—®æˆ‘æ€ä¹ˆåŠï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“é™¤äº†è‡ªå·±å†™ï¼Œè¿˜èƒ½æ€ä¹ˆåŠ(â€²Ğ´ï½€ )â€¦å½¡â€¦å½¡</p><pre><code>const pixelLevels = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];const TAB_MULTIPLIER = 30;export class IndentAttributor extends Parchment.Attributor.Style &amp;#123;  add(node, value) &amp;#123;â€‹```return super.add(node, $&amp;#123;+value * TAB_MULTIPLIER&amp;#125;px);  &amp;#125;â€‹```  value(node) &amp;#123;â€‹```return parseFloat(super.value(node)) / TAB_MULTIPLIER || undefined;â€‹```  &amp;#125;&amp;#125;export const IndentStyle = new IndentAttributor("indent", "margin-left", &amp;#123;  scope: Parchment.Scope.BLOCK,    whitelist: pixelLevels.map(value =&gt; $&amp;#123;value * TAB_MULTIPLIER&amp;#125;px)&amp;#125;);Quill.register(&amp;#123; "formats/indent": IndentStyle &amp;#125;, true);</code></pre><p>ä¸Šé¢è¿™æ®µä»£ç ï¼Œå…¶å®å°±æ˜¯ä»¿ç…§æºç ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªæ ·å¼ï¼Œç„¶åè¿›è¡Œæ³¨å†Œã€‚æ¯æ¬¡å‘å·¦æˆ–å‘å³åç§»30ä¸ªåƒç´ ã€‚</p><h4 id="7-è‡ªå®šä¹‰å­—ä½“å¤§å°"><a href="#7-è‡ªå®šä¹‰å­—ä½“å¤§å°" class="headerlink" title="7.è‡ªå®šä¹‰å­—ä½“å¤§å°"></a>7.è‡ªå®šä¹‰å­—ä½“å¤§å°</h4><p>é»˜è®¤æ ·å¼ä¸­ï¼Œquillåªæä¾›äº†ä¸‰ä¸ªå¤§å°ï¼Œå¹¶ä¸”æ˜¯ä»¥classçš„æ–¹å¼å®ç°çš„ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/441338/1596616366042-869a3a3a-cd21-4640-b963-a712ec4de5bd.png" alt="image.png"></p><p>è¿™æ ·çš„åŠŸèƒ½ç•¥æ˜¾æ½¦è‰ï¼Œå³ä½¿æ¢æˆstyleçš„æ ·å¼ä¹Ÿè§‰å¾—ä¸å¤Ÿç”¨ã€‚äºæ˜¯è‡ªå·±å®šä¹‰ã€‚é¦–å…ˆä½ éœ€è¦å†™ä¸ªcss.</p><pre><code>size-set.css.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='10px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='10px']::before &amp;#123;    content: '10px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='12px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='12px']::before &amp;#123;    content: '12px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='14px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='14px']::before &amp;#123;    content: '14px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='16px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='16px']::before &amp;#123;    content: '16px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='18px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='18px']::before &amp;#123;    content: '18px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='20px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='20px']::before &amp;#123;    content: '20px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='22px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='22px']::before &amp;#123;    content: '22px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='24px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='24px']::before &amp;#123;    content: '24px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='26px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='26px']::before &amp;#123;    content: '26px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='28px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='28px']::before &amp;#123;    content: '28px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='30px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='30px']::before &amp;#123;    content: '30px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='32px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='32px']::before &amp;#123;    content: '32px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='36px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='36px']::before &amp;#123;    content: '36px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='38px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='38px']::before &amp;#123;    content: '38px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='40px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='40px']::before &amp;#123;    content: '40px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='45px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='45px']::before &amp;#123;    content: '45px';&amp;#125;.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='50px']::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='50px']::before &amp;#123;    content: '50px';&amp;#125;/**è®¾ç½®é»˜è®¤å­—ä½“æ˜¾ç¤º**/.ql-container &amp;#123;    font-size:16px;&amp;#125;</code></pre><p>ç„¶ååœ¨&lt; style&gt;æ ‡ç­¾ä¸­å¼•å…¥è¿™ä¸ªæ ·å¼æ–‡ä»¶ã€‚</p><p>@import â€œ./size-set.cssâ€;</p><p>ä¹‹åå°±å¯ä»¥æ„‰å¿«çš„æ³¨å†Œå•¦ã€‚</p><pre><code>fontSizeStyle.whitelist = [  "10px",  "12px",  "14px",  "16px",  "18px",  "20px",  "22px",  "24px",  "26px",  "28px",  "30px",  "32px",  "36px",  "38px",  "40px",  "45px",  "50px",  false];Quill.register(fontSizeStyle, true);</code></pre><p>8.è‡ªå®šä¹‰è¡Œé—´è·</p><p>å¯¹äºæœ‰çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ç›´æ¥è¿›è¡Œè¦†å†™ï¼Œå¯¹äºæ²¡æœ‰çš„åŠŸèƒ½ï¼Œéœ€è¦è‡ªå®šä¹‰æ–°çš„æŒ‰é’®ã€‚</p><p>æƒ³è¦å®ç°è¡Œé—´è·ï¼Œé¦–å…ˆè¿˜æ˜¯éœ€è¦å†™ä¸ªcssï¼ˆæ‚„å’ªå’ªåæ§½ï¼Œè¯­é›€è¿™ä¸ªç¼–è¾‘å™¨ä¹Ÿä¸å¥½ç”¨å•Šï¼Œä»£ç çœ‹èµ·æ¥å¥½ä¹±Î£(ã£ Â°Ğ” Â°;)ã£ï¼‰ã€‚</p><pre><code>lineHeight.css.ql-snow .ql-picker.ql-lineheight &amp;#123;    width: 58px;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="1.0"]::before &amp;#123;    content: "1.0";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="1.0"]::before &amp;#123;    content: "1.0" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="1.2"]::before &amp;#123;    content: "1.2";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="1.2"]::before &amp;#123;    content: "1.2" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="1.5"]::before &amp;#123;    content: "1.5";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="1.5"]::before &amp;#123;    content: "1.5" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="1.6"]::before &amp;#123;    content: "1.6";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="1.6"]::before &amp;#123;    content: "1.6" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="1.8"]::before &amp;#123;    content: "1.8";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="1.8"]::before &amp;#123;    content: "1.8" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="2.0"]::before &amp;#123;    content: "2.0";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="2.0"]::before &amp;#123;    content: "2.0" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="2.4"]::before &amp;#123;    content: "2.4";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="2.4"]::before &amp;#123;    content: "2.4" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="2.8"]::before &amp;#123;    content: "2.8";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="2.8"]::before &amp;#123;    content: "2.8" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="3.0"]::before &amp;#123;    content: "3.0";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="3.0"]::before &amp;#123;    content: "3.0" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="4.0"]::before &amp;#123;    content: "4.0";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="4.0"]::before &amp;#123;    content: "4.0" !important;&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-item[data-value="5.0"]::before &amp;#123;    content: "5.0";&amp;#125;.ql-snow .ql-picker.ql-lineheight .ql-picker-label[data-value="5.0"]::before &amp;#123;    content: "5.0" !important;&amp;#125;</code></pre><p>åŒæ ·ï¼Œéœ€è¦å¼•å…¥æ ·å¼</p><p>@import â€œ./lineHeight.cssâ€;</p><p>è¿™é‡Œæœ‰ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯è¿™ä¸ªæ ·å¼ï¼Œåœ¨å›æ˜¾çš„æ—¶å€™ä¼šè¢«æ’ä»¶æœ¬èº«çš„æ ·å¼è¦†ç›–ï¼Œæƒ³äº†å¾ˆä¹…ä¹Ÿä¸çŸ¥é“æ€ä¹ˆåŠã€‚äºæ˜¯æƒ³åˆ°äº†ä¸ªå¾ˆæš´åŠ›çš„æ–¹æ³•ï¼Œæ”¾åˆ°app.jsé‡Œã€‚æœŸå¾…èƒ½æœ‰å‰ç«¯çš„åŒå­¦æä¾›æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚ä½œä¸ºåå°çš„åŒå­¦ï¼Œå¼€å‘å‰ç«¯æ—¶æ¯•ç«Ÿè¿˜æ˜¯ä»¥éœ€æ±‚ä¸ºå¯¼å‘ï¼Œæ²¡æœ‰æ›´å¤šç²¾åŠ›ç ”ç©¶å‰ç«¯çš„åŸç†â‰¡(â–”ï¹â–”)â‰¡ã€‚</p><p>æœ€ååŒæ ·ï¼Œæ³¨å†Œå°±å®Œäº‹å„¿~</p><pre><code>var lineHeightConfig = &amp;#123;  scope: Parchment.Scope.INLINE,  whitelist: [    "1.0",    "1.2",    "1.5",    "1.6",    "1.8",    "2.0",    "2.4",    "2.8",    "3.0",    "4.0",    "5.0"  ]&amp;#125;;var lineHeightClass = new Parchment.Attributor.Class(  "lineheight",  "ql-line-height",  lineHeightConfig);var lineHeightStyle = new Parchment.Attributor.Style(  "lineheight",  "line-height",  lineHeightConfig);Parchment.register(lineHeightClass);Parchment.register(lineHeightStyle);</code></pre><h4 id="8-ç©ºæ ¼å¤±æ•ˆçš„è§£å†³æ–¹æ³•"><a href="#8-ç©ºæ ¼å¤±æ•ˆçš„è§£å†³æ–¹æ³•" class="headerlink" title="8.ç©ºæ ¼å¤±æ•ˆçš„è§£å†³æ–¹æ³•"></a>8.ç©ºæ ¼å¤±æ•ˆçš„è§£å†³æ–¹æ³•</h4><p>åœ¨è”è°ƒçš„è¿‡ç¨‹ä¸­å‘ç°äº†ä¸€ä¸ªå¾ˆå°´å°¬çš„é—®é¢˜ï¼Œåœ¨åå°ç¼–è¾‘çš„æ–‡ç« é‡Œï¼Œå¦‚æœè¾“å…¥å¾ˆå¤šç©ºæ ¼ï¼Œæœ€ååœ¨å°ç¨‹åºé‡Œåªæ˜¾ç¤ºä¸€ä¸ªã€‚åæ¥æŠŠç©ºæ ¼æ›¿æ¢æˆ&nbsp;ä¹Ÿæ²¡æœ‰ç”¨ã€‚åæ¥æœåˆ°ç©ºæ ¼å…¶å®æœ‰å¾ˆå¤šç§ï¼Œå‚è€ƒæ–‡æ¡£ï¼š<a href="http://www.oicqzone.com/pc/2015083122336.html">http://www.oicqzone.com/pc/2015083122336.html</a></p><p>ç»è¿‡æµ‹è¯•åï¼Œå‘ç°å…¨è§’ç©ºæ ¼å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œä¹Ÿç¬¦åˆä¸­æ–‡è¾“å…¥çš„ä¹ æƒ¯ï¼Œäºæ˜¯å¯¹htmlä¸­æ‰€æœ‰æ ‡ç­¾å¤–çš„ç©ºæ ¼è¿›è¡Œæ›¿æ¢ã€‚</p><p>this.form.text.replace(/(?&lt;=&gt;[^&lt;]*?) /g, â€œâ€ƒâ€)</p><h4 id="9-å›¾ç‰‡ä¸Šä¼ æ–¹å¼æ›´æ”¹"><a href="#9-å›¾ç‰‡ä¸Šä¼ æ–¹å¼æ›´æ”¹" class="headerlink" title="9.å›¾ç‰‡ä¸Šä¼ æ–¹å¼æ›´æ”¹"></a>9.å›¾ç‰‡ä¸Šä¼ æ–¹å¼æ›´æ”¹</h4><p>è¿™ä¸ªç½‘ä¸Šèµ„æ–™å¾ˆå¤šï¼Œæˆ‘ç›´æ¥è´´ä»£ç äº†ã€‚</p><p>è¿™é‡Œçš„lineheightæ˜¯æ–‡æœ¬é«˜äº®ï¼Œéœ€è¦å®‰è£…ä¾èµ–ï¼Œç„¶åå¼•å…¥import <strong>hljs</strong> from â€œhighlight.jsâ€; è¾…åŠ©åŠŸèƒ½ä¸ç”¨ä¹ŸOK~</p><pre><code>/*å¯Œæ–‡æœ¬ç¼–è¾‘å›¾ç‰‡ä¸Šä¼ é…ç½®*/const uploadConfig = &amp;#123;  action: "å•¦å•¦å•¦å•¦å•¦å•¦", // å¿…å¡«å‚æ•° å›¾ç‰‡ä¸Šä¼ åœ°å€  methods: "POST", // å¿…å¡«å‚æ•° å›¾ç‰‡ä¸Šä¼ æ–¹å¼  token: "", // å¯é€‰å‚æ•° å¦‚æœéœ€è¦tokenéªŒè¯ï¼Œå‡è®¾ä½ çš„tokenæœ‰å­˜æ”¾åœ¨sessionStorage  name: "file", // å¿…å¡«å‚æ•° æ–‡ä»¶çš„å‚æ•°å  size: 500, // å¯é€‰å‚æ•°   å›¾ç‰‡å¤§å°ï¼Œå•ä½ä¸ºKb, 1M = 1024Kb  accept: "image/png, image/gif, image/jpeg, image/bmp, image/x-icon" // å¯é€‰ å¯ä¸Šä¼ çš„å›¾ç‰‡æ ¼å¼&amp;#125;;const handlers = &amp;#123;lineheight: function(e) &amp;#123;//æ·»åŠ å·¥å…·æ–¹æ³•let Range = this.quill.getSelection();this.quill.formatText(Range.index, Range.length, "lineheight", e);&amp;#125;,image: function image() &amp;#123;var self = this;var fileInput = this.container.querySelector("input.ql-image[type=file]");if (fileInput === null) &amp;#123;  fileInput = document.createElement("input");  fileInput.setAttribute("type", "file");  // è®¾ç½®å›¾ç‰‡å‚æ•°å  if (uploadConfig.name) &amp;#123;    fileInput.setAttribute("name", uploadConfig.name);  &amp;#125;  // å¯è®¾ç½®ä¸Šä¼ å›¾ç‰‡çš„æ ¼å¼  fileInput.setAttribute("accept", uploadConfig.accept);  fileInput.classList.add("ql-image");  // ç›‘å¬é€‰æ‹©æ–‡ä»¶  fileInput.addEventListener("change", function() &amp;#123;    // åˆ›å»ºformData    var formData = new FormData();    formData.append(uploadConfig.name, fileInput.files[0]);    formData.append("object", "product");    // å¦‚æœéœ€è¦tokenä¸”å­˜åœ¨token    if (uploadConfig.token) &amp;#123;      formData.append("token", uploadConfig.token);    &amp;#125;    // å›¾ç‰‡ä¸Šä¼     var xhr = new XMLHttpRequest();    xhr.open(uploadConfig.methods, uploadConfig.action, true);    // ä¸Šä¼ æ•°æ®æˆåŠŸï¼Œä¼šè§¦å‘    xhr.onload = function() &amp;#123;      if (xhr.status === 200) &amp;#123;        var res = JSON.parse(xhr.responseText);        let length = self.quill.getSelection(true).index;        //è¿™é‡Œå¾ˆé‡è¦ï¼Œä½ å›¾ç‰‡ä¸Šä¼ æˆåŠŸåï¼Œimgçš„srcéœ€è¦åœ¨è¿™é‡Œæ·»åŠ ï¼Œres.pathå°±æ˜¯ä½ æœåŠ¡å™¨è¿”å›çš„å›¾ç‰‡é“¾æ¥ã€‚        self.quill.insertEmbed(length, "image", res.data.src);        self.quill.setSelection(length + 1);      &amp;#125;      fileInput.value = "";    &amp;#125;;    // å¼€å§‹ä¸Šä¼ æ•°æ®    xhr.upload.onloadstart = function() &amp;#123;      fileInput.value = "";    &amp;#125;;    // å½“å‘ç”Ÿç½‘ç»œå¼‚å¸¸çš„æ—¶å€™ä¼šè§¦å‘ï¼Œå¦‚æœä¸Šä¼ æ•°æ®çš„è¿‡ç¨‹è¿˜æœªç»“æŸ    xhr.upload.onerror = function() &amp;#123;&amp;#125;;    // ä¸Šä¼ æ•°æ®å®Œæˆï¼ˆæˆåŠŸæˆ–è€…å¤±è´¥ï¼‰æ—¶ä¼šè§¦å‘    xhr.upload.onloadend = function() &amp;#123;      // console.log('ä¸Šä¼ ç»“æŸ')    &amp;#125;;    xhr.send(formData);  &amp;#125;);  this.container.appendChild(fileInput);&amp;#125;fileInput.click();&amp;#125;&amp;#125;;export default &amp;#123;placeholder: "",theme: "snow", // ä¸»é¢˜modules: &amp;#123;toolbar: &amp;#123;container: toolOptions, // å·¥å…·æ é€‰é¡¹handlers: handlers // äº‹ä»¶é‡å†™&amp;#125;,syntax: &amp;#123;highlight: text =&gt; hljs.highlightAuto(text).value&amp;#125;&amp;#125;&amp;#125;;</code></pre><p>åœ¨å¼•ç”¨quillçš„htmlä¸Šï¼Œä¹Ÿè¦åŠ ä¸Šä»¥ä¸‹è¿™æ®µå†…å®¹</p><p><el-upload class="avatar-uploader" action="ä½ çš„OSSæ¥å£" name="file" :show-file-list="false" :on-success="uploadSuccessEdit" :on-error="uploadErrorEdit" :before-upload="beforeUploadEdit" style="line-height: 0px"></el-upload></p><h4 id="10-å®šä¹‰å·¥å…·æ "><a href="#10-å®šä¹‰å·¥å…·æ " class="headerlink" title="10.å®šä¹‰å·¥å…·æ "></a>10.å®šä¹‰å·¥å…·æ </h4><p>ä¸Šé¢æ‰€æœ‰çš„å†…å®¹ï¼Œæœ€åéƒ½è¦åœ¨å·¥å…·æ å®šä¹‰ï¼Œä¸ç„¶å·¥å…·æ å§‹ç»ˆæ˜¯é»˜è®¤çš„æ ·å­ã€‚</p><pre><code>const toolOptions = [["bold", "italic", "underline", "strike"],  ["blockquote", "code-block"],  [&amp;#123; header: 1 &amp;#125;, &amp;#123; header: 2 &amp;#125;],  [&amp;#123; list: "ordered" &amp;#125;, &amp;#123; list: "bullet" &amp;#125;],  [&amp;#123; script: "sub" &amp;#125;, &amp;#123; script: "super" &amp;#125;], [&amp;#123; indent: "-1" &amp;#125;, &amp;#123; indent: "+1" &amp;#125;],  [&amp;#123; direction: "rtl" &amp;#125;],  // [&amp;#123; size: ["small", false, "large", "huge"] &amp;#125;],  [&amp;#123; size: fontSizeStyle.whitelist &amp;#125;],  [&amp;#123; header: [1, 2, 3, 4, 5, 6, false] &amp;#125;], [&amp;#123; color: [] &amp;#125;, &amp;#123; background: [] &amp;#125;], [&amp;#123; font: [] &amp;#125;],  [&amp;#123; align: [] &amp;#125;],  ["clean"],  ["link", "image"],  [    &amp;#123;      lineheight: [        "1.0",        "1.2",        "1.5",        "1.6",        "1.8",        "2.0",        "2.4",        "2.8",        "3.0",        "4.0",        "5.0"      ]    &amp;#125;  ]];</code></pre><h1 id="åè®°ï¼š"><a href="#åè®°ï¼š" class="headerlink" title="åè®°ï¼š"></a>åè®°ï¼š</h1><p>è‡³æ­¤ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½å†™å®Œäº†äº†ï¼ˆä¸»è¦æ˜¯æˆ‘å†™ç´¯äº†â€¦â€¦ï¼‰ï¼Œç›´è§‚ä¸€ç‚¹ï¼Œåœˆå‡ºæ¥çš„åŠŸèƒ½éƒ½æ”¹äº†ã€‚over~</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/441338/1596618830036-e4f386ad-ea1b-438a-94fa-b9d1ada89b36.png" alt="image.png"></p></quill-editor><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> VUE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> VUE </tag>
            
            <tag> element ui </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
